<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_gly_xmh_ts">
  <title>HPE Helion 2.0 Development Platform: Set up the Service Installer</title>
  <body>
    <section><p>The installation procedure has changed significantly since the last release. The HDP Installer
        2.0, also known as HDPI, is a plugin for the python-openstackclient (OSC). It is able to
        leverage the authentication, configuration and command line option parsing that is already
        part of OSC to greatly simplify the installation process.</p><note type="warning">You must have
            <xref href="devplatform_install_prereq.dita#topic_x54_njh_ts">satisfied all
            prerequisites</xref> before beginning installation.</note><note type="important">Do not
          source <codeph>service.osrc</codeph>, <codeph>keystone.osrc</codeph>, or <b>any</b> other
          file before you begin.</note>
    </section>

    <section id="pre-installing-the-hp-helion-development-platform">
      <title>Download and Set Up the HPE Helion Development Platform Installer</title>
      <ol>
        <li>Using your preferred web browser, navigate to <xref
            href="https://helion.hpwsportal.com/catalog.html#/Home/Show" format="html"
            scope="external">HPE Helion Download Network</xref> (HDN).</li>
        <li>Create an account, if you haven't done so already, and log in.</li>
        <li>Click the <b>HPE Helion Development Platform</b> category.<image placement="break"
            href="../../../media/hdp_download.png" id="image_aqj_crq_yt"/></li>
        <li>From the list of options, click <b>HPE Helion Development Platform 2.0</b>. </li>
        <li>Click the blue <b>Download</b> button in the upper right hand corner.<note type="tip"
            >The easiest option is to download directly to the physical machine hosting the HPE
            Helion OpenStack lifecycle manager. If you can not download directly to that location,
            download the files to portable storage media and then copy the files onto the lifecycle
            manager. When downloading or copying, make sure there is enough space; the file sizes
            can be significant.</note></li>
        <li>Create the <codeph>clouds.yaml</codeph> configuration file. <ol id="ol_ox4_khb_h5">
            <li> Create this directory: <codeblock>mkdir -p ~/.config/openstack/</codeblock></li>
            <li>Create a plaintext file named <codeph>clouds.yaml</codeph> in that directory.</li>
          </ol></li>
        <li>Provide the required information for the<xref href="cloud/cloud_platform.dita"> Platform
            Configuration</xref> section of the <codeph>clouds.yaml</codeph> file. If you prefer,
          you may fully populate the clouds.yaml file at this time for all services you intend to
          install, but it is not required.</li>
        <li>SSH to the HPE Helion OpenStack lifecycle manager (previously known as the deployer
          node). </li>
        <li>Create the virtual environment.<note> In this example,
              <codeph>&lt;dev_platform_installer-devplat_installer-#.#.#.gz&gt;</codeph> is the name
            of the installation package.</note><ol id="ol_qbn_w3b_h5">
            <li>Create the directory. The directory name <b>must exactly</b> match the name of the
              installation package (&lt;dev_platform_installer-devplat_installer-#.#.#&gt;). Do not
              rename the directory later. Do not include the file extension in the directory
              name.<codeblock>sudo mkdir -p /opt/stack/venv/&lt;dev_platform_installer-devplat_installer-#.#.#></codeblock></li>
            <li>Uncompress the installation package into the directory.
              <codeblock>sudo tar -C /opt/stack/venv/&lt;dev_platform_installer-devplat_installer-#.#.#&gt; -xzf &lt;dev_platform_installer-devplat_installer-#.#.#.gz&gt;</codeblock></li>
            <li>This process creates a directory under<codeph> /opt </codeph>which is owned by root.
              The owner needs to be changed so that non-admin users can perform service
              installations. In this example, the user login is <i>stack</i>.
              <codeblock>sudo chown stack.stack /opt/stack/venv/&lt;dev_platform_installer-devplat_installer-#.#.#.gz&gt; </codeblock></li>
            </ol></li><li>Source the virtual
              environment.<codeblock>source /opt/stack/venv/&lt;dev_platform_installer-devplat_installer-#.#.#.gz&gt;/bin/activate</codeblock></li>
          
        <li>Test the installer by retrieving a list of installable files.
          <codeblock>openstack hdpi --os-cloud mycloud list</codeblock></li>
      </ol>
      <note type="tip">If troubleshooting is necessary, include the <codeph>--debug</codeph> option
        in the command to generate highly-detailed output.</note>
    </section>
  </body>
</topic>
