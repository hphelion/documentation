<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" ><topic xml:lang="en-us" id="topic89696">
<title>HP Helion Public Cloud Monitoring API Specifications</title>
<prolog>
<metadata>
<othermeta name="layout" content="default"/>
</metadata>
</prolog>
<body>
<p>
<!--PUBLISHED-->
 <!--./content/api/c1.1/maas-api.md-->
 <!--permalink: /publiccloud/api/monitoring/--></p>
<p>
<b>Date:</b> May 2014</p>
<p>
<b>Document Version:</b> 2.0</p>
<p>
<b>Note:</b> If you are using HP Helion v12.12, see the <xref href="../../../publiccloud/apidocs/c1.1/maas-api.dita" >Monitoring API v1.0</xref>.</p>
<section id="Section1_"> <title>1. Overview</title>
<p>This document describes the HP Helion Public Cloud Monitoring API v1.1, which allows you to monitor resources in HP Helion Public Cloud.</p>
<p>We will be referring to HP Helion Public Cloud Monitoring in this document as simply Monitoring.</p>
</section>
<section id="Section1_1"> <title>1.1 API Maturity Level</title>
<p>
<b>Maturity Level</b>: Public Beta</p>
<p>
<b>Version API Status</b>: The Monitoring Service v1.1 status is CURRENT, and the v1.0 status is DEPRECATED.</p>
</section>
<section id="Section1_2"> <title>1.2 Document Revision History</title>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Doc. Version</entry>
  <entry align="left">Date</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">0.1</entry>
  <entry align="left">01/17/2013</entry>
  <entry align="left">Initial draft</entry>
</row>
<row>
<entry align="left">0.2</entry>
  <entry align="left">02/22/2013</entry>
  <entry align="left">Compute only release</entry>
</row>
<row>
<entry align="left">0.3</entry>
  <entry align="left">02/28/2013</entry>
  <entry align="left">Added Volume metrics and cleanup</entry>
</row>
<row>
<entry align="left">1.0</entry>
  <entry align="left">03/04/2013</entry>
  <entry align="left">Document 1.0 release</entry>
</row>
<row>
<entry align="left">1.1</entry>
  <entry align="left">03/09/2013</entry>
  <entry align="left">API Keys desc and cleanup</entry>
</row>
<row>
<entry align="left">1.2</entry>
  <entry align="left">04/25/2013</entry>
  <entry align="left">User defined metrics and cleanup</entry>
</row>
<row>
<entry align="left">1.3</entry>
  <entry align="left">05/01/2013</entry>
  <entry align="left">Advanced alarm expressions and cleanup</entry>
</row>
<row>
<entry align="left">1.3.1</entry>
  <entry align="left">05/06/2013</entry>
  <entry align="left">Cleanup</entry>
</row>
<row>
<entry align="left">1.3.2</entry>
  <entry align="left">05/09/2013</entry>
  <entry align="left">Modified dimensions handling for user defined metrics and cleanup</entry>
</row>
<row>
<entry align="left">1.3.3</entry>
  <entry align="left">05/13/2013</entry>
  <entry align="left">Namespace and dimension changes</entry>
</row>
<row>
<entry align="left">1.3.4</entry>
  <entry align="left">05/22/2013</entry>
  <entry align="left">Timestamp and Subject optional for user defined metrics</entry>
</row>
<row>
<entry align="left">1.3.5</entry>
  <entry align="left">05/24/2013</entry>
  <entry align="left">Zero value metrics change</entry>
</row>
<row>
<entry align="left">1.4</entry>
  <entry align="left">07/11/2013</entry>
  <entry align="left">Rate based metrics</entry>
</row>
<row>
<entry align="left">1.4.1</entry>
  <entry align="left">07/15/2013</entry>
  <entry align="left">Enhanced volume metrics</entry>
</row>
<row>
<entry align="left">1.5</entry>
  <entry align="left">10/02/2013</entry>
  <entry align="left">Monitoring 1.1 API</entry>
</row>
<row>
<entry align="left">1.6</entry>
  <entry align="left">11/06/2013</entry>
  <entry align="left">Notification address validation additions</entry>
</row>
<row>
<entry align="left">1.7</entry>
  <entry align="left">12/01/2013</entry>
  <entry align="left">Metric querying</entry>
</row>
<row>
<entry align="left">1.8</entry>
  <entry align="left">12/04/2013</entry>
  <entry align="left">Add name field to notification addresses, update HTTP headers sent in curl examples</entry>
</row>
<row>
<entry align="left">1.9</entry>
  <entry align="left">12/18/2013</entry>
  <entry align="left">Monitoring level selection</entry>
</row>
<row>
<entry align="left">1.9.1</entry>
  <entry align="left">02/04/2014</entry>
  <entry align="left">Revised entire document</entry>
</row>
<row>
<entry align="left">2.0</entry>
  <entry align="left">May 2014</entry>
  <entry align="left">HP Helion updates</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="Section2_"> <title>2. Architecture View</title>
<p>Monitoring provides APIs for managing metric consumption endpoints, metric subscriptions, alarms, contact methods, and publishing user-defined metrics.</p>
</section>
<section id="ArchitectureOverview"> <title>2.1 Overview</title>
<p>The Monitoring API provides a RESTful JSON interface for interacting with Monitoring and managing monitoring-related resources.</p>
<p>The API supports a number of operations. These include:</p>
<ul>
<li>
<p>
<xref type="section" href="#topic89696/ServiceEndpointOps">Endpoint Operations</xref> - The endpoint resource represents an endpoint from which metrics can be consumed.</p>
</li>
<li>
<p>
<xref type="section" href="#topic89696/ServiceDetailsEndpoint">Endpoint Operations Details</xref>
</p>
</li>
<li>
<p>
<xref type="section" href="#topic89696/ServiceSubscriptionOps">Subscription Operations</xref> - The subscription resource represents a subscription to consume metrics.</p>
</li>
<li>
<p>
<xref type="section" href="#topic89696/ServiceDetailsSubscription">Subscription Operations Details</xref>
</p>
</li>
<li>
<p>
<xref type="section" href="#topic89696/ServiceNotificationOps">Notification Operations</xref> - The notification method resource represents a method through which notifications can be sent.</p>
</li>
<li>
<p>
<xref type="section" href="#topic89696/ServiceDetailsNotification">Notification Operations Details</xref>
</p>
</li>
<li>
<p>
<xref type="section" href="#topic89696/ServiceNotificationAddressOps">Notification Address Operations</xref> - The notification address resource represents validated address to which notifications can be sent.</p>
</li>
<li>
<p>
<xref type="section" href="#topic89696/ServiceDetailsNotificationAddress">Notification Address Operations Details</xref>
</p>
</li>
<li>
<p>
<xref type="section" href="#topic89696/ServiceAlarmOps">Alarm Operations</xref> - The alarm resource identifies a particular metric scoped by namespace, type and dimensions, which should trigger a set of actions when the value of the metric exceeds a threshold.</p>
</li>
<li>
<p>
<xref type="section" href="#topic89696/ServiceDetailsAlarm">Alarm Operations Details</xref>
</p>
</li>
<li>
<p>
<xref type="section" href="#topic89696/ServiceMetricsOps">Metric Operations</xref> - The metric resource allows the insertion of user defined metrics and querying of system and user defined metrics.</p>
</li>
<li>
<p>
<xref type="section" href="#topic89696/ServiceDetailsMetrics">Metrics Operations Details</xref>
</p>
</li>
</ul>
</section>
<section id="Examples"> <title>2.2 Examples</title>
</section>
<section id="HighLevelExample"> <title>2.2.1 High Level</title>
<p>There are 4 major functions possible with the Monitoring API resources:</p>
<ul>
<li>Message subscription - This allows AMQP message queue access to the current metric stream.</li>
<li>Alarming - Sends a notification when a metric passes a threshold.</li>
<li>Metric Post - Sends a metric to HP Monitoring.</li>
<li>Metric Query - Queries all of the metrics sent to and/or captured by HP Monitoring.</li>
</ul>
<p>
<b>Note:</b> Access to these functions are also available through the <xref href="https://horizon.hpcloud.com/" scope="external" format="html" >Console</xref> and it is the preferred method. You do NOT need to obtain an auth token when working from the console. However, when accessing the REST interface directly, you are required to include the auth token.</p>
</section>
<section id="AccountActivation"> <title>2.2.2 Activating Your Account Example</title>
<p>
  <xref type="section" href="#topic89696/Accounts">Account Creation Details</xref>
</p>
<p>Before creating Alarms or Subscriptions, you must first get a valid auth token. Go to the above link and follow the actions listed.</p>
</section>
<section id="SubscriptionExample"> <title>2.2.3 Setting Up a Subscription Example</title>
<p>Subscriptions provides a continuous feed of monitoring metrics data.</p>
<p>
  <xref type="section" href="#topic89696/ServiceDetailsCreateEndpoint">Endpoint Creation Details</xref>
</p>
<p>Subscriptions need a way to connect you to the RabbitMQ (AMQP) queue, so we need to create an endpoint.</p>
<p>From the above link, use the Curl Example, changing the X-Auth-Token to the auth token value. Save the returned json output. "uri", "amqp_username", "amqp_password", and "amqp_queue" are the required values for accessing the RabbitMQ (AMQP) queue.</p>
<p>How to setup a queue connection is beyond the scope of this document. There are tutorials at <xref href="http://www.rabbitmq.com" scope="external" format="html" >RabbitMQ</xref>. There is a simple, limited AMQP client application at: <xref type="section" href="#topic89696/SupportSoftwareAndOtherTools">AMQP client</xref>.</p>
<p>
  <xref type="section" href="#topic89696/ServiceDetailsCreateSubscription">Subscription Creation Details</xref>
</p>
<p>From the above link, use the Curl Example, changing the X-Auth-Token to the auth token value. Change "endpoint_id" to the id value returned from the Endpoint call and "instance_id" with a valid compute instance ID that you own. The data feed should start soon after.</p>
<p>The metric json format (HP Helion Metrics JSON) received is the same format used for creating user defined metrics in 4.4.6.1 <xref type="section" href="#topic89696/ServiceDetailsCreateMetric">Create a New Metric</xref>.</p>
</section>
<section id="AlarmExample"> <title>2.2.4 Setting Up an Alarm Example</title>
<p>Alarms send notifications when a metric value exceeds a user defined threshold.</p>
<p>
  <xref type="section" href="#topic89696/ServiceDetailsCreateNotification">Notification Creation Details</xref>
</p>
<p>Alarms need a way in which to contact you, so we need to create a notification method and a notification method that the system is authorized to send alarm notifications to.</p>
<p>From the above link, use the Curl Example, changing the X-Auth-Token to the auth token value. Change "name" to your descriptive name, "type" with how you are to be accessed (this is a strict enumeration value, use only the values given in the Data Parameters section), and "address" with your email address or phone number. Save the returned json output.</p>
<p>
  <xref type="section" href="#topic89696/ServiceDetailsCreateAlarm">Alarm Creation Details</xref>
</p>
<p>From the above link, use the Curl Example, changing the X-Auth-Token to the auth token value. Change "name" to a description of the alarm. Put into "alarm_actions" the notification method id you received above. For "expression" create something like the below expression, targeted towards a valid compute instance ID that you own (replace the instance_id value):</p>
<codeblock>
  <codeph>max(hpcs.compute{metric_name=cpu_total_time, instance_id=42ff6820-7c86-11e2-b92a-0800200c9a67}) &gt; 0
</codeph>
</codeblock>
<p>Since the cpu_total_time for an instance should always be over 0 after it's creation, this should evaluate to true. (Evaluations are done every 60 seconds.) A notification should then be sent out and the alarm will remain in the ALARM state.</p>
<p>
  <xref type="section" href="#topic89696/ServiceDetailsCreateAlarmAddress">Alarm Creation Notification Address</xref>
</p>
<p>To avoid misuse of the notification system, alarm notifications will only be delivered to authorized addresses.  You may create alarms pointing at any address, but the system will only deliver notifications to verified addresses.<!--A BR tag was used here in the original source.-->
To authorize a notification address use the <xref type="section" href="#topic89696/ServiceDetailsCreateAddress">Create a new notification address</xref> 
API call to create a new notification address, and then the <xref type="section" href="#topic89696/ServiceDetailsValidateAddress">Validate received validation code for a specific notification address</xref> API call.  You can verify that the notification address has been verified by using the <xref type="section" href="#topic89696/ServiceDetailsListAddress">List all notification addresses</xref> API call and noting the state of each notification address.  Addresses can have states in-progress, verified or timed out which indicate which particular part of the verification process they are in at the time of the API call.</p>
</section>
<section id="MetricPostExample"> <title>2.2.5 Posting a Metric Example</title>
<p>
  <xref type="section" href="#topic89696/ServiceDetailsCreateMetric">Metric Post Details</xref>
</p>
<p>From the above link, create the json for the metric to be sent. The simplest metric example:</p>
<codeblock>
  <codeph>{
    "namespace": "user_namespace"
    "value": 1.0
}
</codeph>
</codeblock>
<p>Dimensions are optional and a missing timestamp is set to the current time. This metric will be stored for later query.</p>
<p>If you create a subscription with this namespace and no dimensions, you will have AMQP output of the metric when it is sent. If you create an alarm with this namespace, you can receive a notification.</p>
</section>
<section id="MetricQueryExample"> <title>2.2.6 Metric Query Example</title>
<p>
  <xref type="section" href="#topic89696/ServiceDetailsGetMetrics">Metric Query Details</xref>
</p>
<p>From the above link, create a metric query. For querying the metric submitted in the previous section (replace start_time with a date/time close to current):</p>
<codeblock>
  <codeph>namespace=user_namespace&amp;statistics=avg&amp;start_time=2013-11-01T12:00Z
</codeph>
</codeblock>
</section>
<section id="Namespaces"> <title>2.3 Namespaces, Dimensions, and Metrics</title>
<p>The Monitoring API makes use of several metric related pre-defined constants throughout.</p>
<ul>
<li>
<p>Namespaces define the high-level logical partition to monitor.  This restricts what metrics will be used.</p>

<p>
<b>Note:</b> All namespaces starting with hpcs. are reserved by HP and cannot be used for user defined namespaces.</p>
</li>
<li>
<p>Dimensions place restrictions on the namespace to further narrow what is monitored.</p>
</li>
<li>
<p>A metric definition is the unique combination of the namespace plus the dimension keys. A metric is the entirety of the namespace, dimension keys, dimension values, timestamp, and value.</p>
</li>
</ul>
</section>
<section id="NamespaceUserDefined"> <title>2.3.1 Namespace: User Defined</title>
<p>
<b>Required dimensions:</b> None</p>
<p>
<b>Supported dimensions:</b> Any</p>
<p>
<b>Note:</b> Dimensions must currently match exactly for subscriptions using user defined namespaces.</p>
<p>A user-defined namespace is a logical grouping of metrics for a customer that the customer defines. Performing a metric post call with a new namespace automatically creates the new namespace. The HP namespace (hpcs. prefixed namepaces) are restricted and cannot be used. Any other name can be used for a user defined namespace and there are no limits on the number that a customer can create.</p>
<p>See <xref type="section" href="#topic89696/ServiceDetailsMetrics">Metrics Operations Details</xref>.</p>
</section>
<section id="NamespaceHpcsCompute"> <title>2.3.2 Namespace: hpcs.compute</title>
<p>
<b>Required dimensions:</b> instance_id, which is the compute node unique instance id value.</p>
<p>
<b>Supported dimensions:</b> instance_id, metric_name, device. The metrics tables below show the supported metric_name values. device is vda, vdb, etc for disk metrics and eth0, etc for network metrics. You should use all 3 supported dimensions for uniquely identifying a hpcs.compute metric definition.</p>
<p>
  <b>Gauge and delta metrics</b>
</p>
<table>
<tgroup cols="5">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<colspec colname="col4"/>
<colspec colname="col5"/>
<thead>
<row>
<entry align="left">Metric Name</entry>
  <entry align="left">Metric Type</entry>
  <entry align="left">Unit</entry>
  <entry align="left">Device</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">cpu_total_utilization</entry>
  <entry align="left">Gauge</entry>
  <entry align="left">Percent</entry>
  <entry align="left"/>
  <entry align="left">Total percentage of CPU used for all cores</entry>
</row>
<row>
<entry align="left">cpu_time</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Nanoseconds</entry>
  <entry align="left"/>
  <entry align="left">Delta CPU time used for all cores in nanoseconds</entry>
</row>
<row>
<entry align="left">disk_read_ops</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Operations</entry>
  <entry align="left">Disk Name</entry>
  <entry align="left">Delta of read requests from a disk</entry>
</row>
<row>
<entry align="left">disk_write_ops</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Operations</entry>
  <entry align="left">Disk Name</entry>
  <entry align="left">Delta of write requests from a disk</entry>
</row>
<row>
<entry align="left">disk_read_bytes</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Bytes</entry>
  <entry align="left">Disk Name</entry>
  <entry align="left">Delta of bytes read from a disk</entry>
</row>
<row>
<entry align="left">disk_write_bytes</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Bytes</entry>
  <entry align="left">Disk Name</entry>
  <entry align="left">Delta of bytes written to a disk</entry>
</row>
<row>
<entry align="left">net_in_bytes</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Bytes</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Delta of receive bytes on a network interface</entry>
</row>
<row>
<entry align="left">net_out_bytes</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Bytes</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Delta of transfer bytes on a network interface</entry>
</row>
<row>
<entry align="left">net_in_dropped</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Packets</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Delta of receive packets dropped on a network interface</entry>
</row>
<row>
<entry align="left">net_out_dropped</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Packets</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Delta of transfer packets dropped on a network interface</entry>
</row>
<row>
<entry align="left">net_in_packets</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Packets</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Delta of receive packets on a network interface</entry>
</row>
<row>
<entry align="left">net_out_packets</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Packets</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Delta of transfer packets on a network interface</entry>
</row>
<row>
<entry align="left">net_in_errors</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Errors</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Delta of receive packet errors on a network interface</entry>
</row>
<row>
<entry align="left">net_out_errors</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Errors</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Delta of transfer packet errors on a network interface</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Counter metrics</b>
</p>
<table>
<tgroup cols="5">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<colspec colname="col4"/>
<colspec colname="col5"/>
<thead>
<row>
<entry align="left">Metric Name</entry>
  <entry align="left">Metric Type</entry>
  <entry align="left">Unit</entry>
  <entry align="left">Device</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">cpu_total_time</entry>
  <entry align="left">Counter</entry>
  <entry align="left">Nanoseconds</entry>
  <entry align="left"/>
  <entry align="left">Total CPU time used in nanoseconds</entry>
</row>
<row>
<entry align="left">disk_read_ops_count</entry>
  <entry align="left">Counter</entry>
  <entry align="left">Operations</entry>
  <entry align="left">Disk Name</entry>
  <entry align="left">Number of read requests from a disk</entry>
</row>
<row>
<entry align="left">disk_write_ops_count</entry>
  <entry align="left">Counter</entry>
  <entry align="left">Operations</entry>
  <entry align="left">Disk Name</entry>
  <entry align="left">Number of write requests from a disk</entry>
</row>
<row>
<entry align="left">disk_read_bytes_count</entry>
  <entry align="left">Counter</entry>
  <entry align="left">Bytes</entry>
  <entry align="left">Disk Name</entry>
  <entry align="left">Number of bytes read from a disk</entry>
</row>
<row>
<entry align="left">disk_write_bytes_count</entry>
  <entry align="left">Counter</entry>
  <entry align="left">Bytes</entry>
  <entry align="left">Disk Name</entry>
  <entry align="left">Number of bytes written to a disk</entry>
</row>
<row>
<entry align="left">net_in_bytes_count</entry>
  <entry align="left">Counter</entry>
  <entry align="left">Bytes</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Number of receive bytes on a network interface</entry>
</row>
<row>
<entry align="left">net_out_bytes_count</entry>
  <entry align="left">Counter</entry>
  <entry align="left">Bytes</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Number of transfer bytes on a network interface</entry>
</row>
<row>
<entry align="left">net_in_dropped_count</entry>
  <entry align="left">Counter</entry>
  <entry align="left">Packets</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Number of receive packets dropped on a network interface</entry>
</row>
<row>
<entry align="left">net_out_dropped_count</entry>
  <entry align="left">Counter</entry>
  <entry align="left">Packets</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Number of transfer packets dropped on a network interface</entry>
</row>
<row>
<entry align="left">net_in_packets_count</entry>
  <entry align="left">Counter</entry>
  <entry align="left">Packets</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Number of receive packets on a network interface</entry>
</row>
<row>
<entry align="left">net_out_packets_count</entry>
  <entry align="left">Counter</entry>
  <entry align="left">Packets</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Number of transfer packets on a network interface</entry>
</row>
<row>
<entry align="left">net_in_errors_count</entry>
  <entry align="left">Counter</entry>
  <entry align="left">Errors</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Number of receive packet errors on a network interface</entry>
</row>
<row>
<entry align="left">net_out_errors_count</entry>
  <entry align="left">Counter</entry>
  <entry align="left">Errors</entry>
  <entry align="left">Interface Name</entry>
  <entry align="left">Number of transfer packet errors on a network interface</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="NamespaceHpcsVolume"> <title>2.3.3 Namespace: hpcs.volume</title>
<p>
<b>Required dimensions:</b> instance_id (compute instance id), disk, where disk has a typical value of 'vda' or 'vdb'</p>
<p>
<b>Supported dimensions:</b> instance_id, metric_name, disk. The table below shows the supported metric_name values. You should use all 3 supported dimensions for uniquely identifying a hpcs.compute metric definition.</p>
<table>
<tgroup cols="4">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<colspec colname="col4"/>
<thead>
<row>
<entry align="left">Metric Name</entry>
  <entry align="left">Metric Type</entry>
  <entry align="left">Unit</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">volume_read_ops</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Operations</entry>
  <entry align="left">Read operations for volume attached to an instance</entry>
</row>
<row>
<entry align="left">volume_write_ops</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Operations</entry>
  <entry align="left">Write operations for volume attached to an instance</entry>
</row>
<row>
<entry align="left">volume_read_bytes</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Bytes</entry>
  <entry align="left">Read bytes for volume attached to an instance</entry>
</row>
<row>
<entry align="left">volume_write_bytes</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Bytes</entry>
  <entry align="left">Write bytes for volume attached to an instance</entry>
</row>
<row>
<entry align="left">volume_read_time</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Seconds</entry>
  <entry align="left">Read time spent for volume attached to an instance</entry>
</row>
<row>
<entry align="left">volume_write_time</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Seconds</entry>
  <entry align="left">Write time spent for volume attached to an instance</entry>
</row>
<row>
<entry align="left">volume_idle_time</entry>
  <entry align="left">Delta</entry>
  <entry align="left">Seconds</entry>
  <entry align="left">Idle time spent for volume attached to an instance</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="MetricFormat"> <title>2.4 HP Helion Metrics JSON Format Schema</title>
<ul>
<li>namespace : string (64 char max)</li>
<li>dimensions : (optional) map &lt;string (50 char max), string (300 char max)&gt;</li>
<li>timestamp : (optional) long (unix time)</li>
<li>value : (scalar only) double </li>
<li>time_values : (vector only) [[long, double]]</li>
</ul>
<p>Namespace and dimension key names are restricted to these characters: a-z A-Z 0-9 . - _. Dimension values currently have the same restriction but will soon support the full range of UTF-8 characters.</p>
<p>
  <b>Scalar format example</b>
</p>
<codeblock>
  <codeph>{
  "namespace": "hpcs.compute",
  "dimensions": {
    "instance_id": "42ff6820-7c86-11e2-b92a-0800200c9a67",
    "metric_name": "disk_read_bytes",
    "device": "vda"
  },
  "timestamp": 123123123,
  "value": 123.0
}
</codeph>
</codeblock>
<p>
  <b>Vector format example</b>
</p>
<codeblock>
  <codeph>{
  "namespace": "hpcs.compute",
  "dimensions": {
    "instance_id": "42ff6820-7c86-11e2-b92a-0800200c9a67",
    "metric_name": "disk_read_bytes",
    "device": "vda"
  },
  "timestamp": 123123123,
  "time_values": [[123123123,123.0],[123123183,127.0]]
}
</codeph>
</codeblock>
<p>
  <b>Aggregate format example</b>
</p>
<codeblock>
  <codeph>[
    {
      "namespace": "hpcs.compute",
      "dimensions": {
        "instance_id": "42ff6820-7c86-11e2-b92a-0800200c9a67",
        "metric_name": "disk_read_bytes",
        "device": "vda"
      },
      "timestamp": 123123123,
      "value": 123.0
    },
     {
       "namespace": "hpcs.compute",
       "dimensions": {
         "instance_id": "42ff6820-7c86-11e2-b92a-0800200c9a67",
         "metric_name": "disk_read_bytes",
         "device": "vda"
      },
      "timestamp": 123123123,
      "time_values": [[123123123,123.0],[123123183,127.0]]
    }
]
</codeph>
</codeblock>
</section>
<section id="AlarmExpressions"> <title>2.5 Alarm Expressions</title>
<p>The alarm expression syntax allows the creation of simple to complex alarms to handle a wide variety of needs. Alarm expressions are evaluated every 60 seconds.</p>
<p>An alarm expression is a boolean equation which if it evaluates to true with the incoming metrics, will then trigger a notification to be sent.</p>
<p>Go to <xref type="section" href="#topic89696/ServiceDetailsAlarm">Alarm</xref> to see the REST interface.</p>
<p>
  <b>Syntax</b>
</p>
<p>At the highest level, you have an expression, which is made up of one or more subexpressions, joined by boolean logic. Parenthesis can be used for separators in a BNF style format:</p>
<codeblock>
  <codeph>expression
    : subexpression
    | '(' expression ')'
    | expression logical_operator expression
</codeph>
</codeblock>
<p>The logical_operators are:</p>
<ul>
<li>'and' (also &amp;&amp;)</li>
<li>'or' (also ||)</li>
</ul>
<p>Each subexpression is made up of several parts with a couple of options:</p>
<codeblock>
  <codeph>subexpression
    : metric relational_operator threshold_value
    | function '(' metric ',' period ')' relational_operator threshold_value ('times' periods)?
</codeph>
</codeblock>
<p>The relational_operators are:</p>
<ul>
<li>'lt' (also &lt;)</li>
<li>'gt' (also &gt;)</li>
<li>'lte' (also &lt;=)</li>
<li>'gte' (also &gt;=)</li>
</ul>
<p>Threshold values are always in the same units as the metric that they are being compared to.</p>
<p>The first subexpression shows a direct comparison of a metric to a threshold_value, done every 60 seconds. For example:</p>
<codeblock>
  <codeph>hpcs.compute{metric_name=cpu_total_utilization, instance_id=42ff6820-7c86-11e2-b92a-0800200c9a67} &gt; 90
</codeph>
</codeblock>
<p>The second subexpression shows a function operation done on all collected metrics within a specific period and compared to a threshold_value, then triggered if it happens periods number of times. For example:</p>
<codeblock>
  <codeph>avg(hpcs.compute{metric_name=cpu_total_utilization, instance_id=42ff6820-7c86-11e2-b92a-0800200c9a67}, 60) &gt; 90 times 3
</codeph>
</codeblock>
<p>Note that period is the number of seconds for the measurement to be done on. They can only be in a multiple of 60. Periods is how many times in a row that this expression must be true before triggering the alarm. Both period and periods are optional and default to 60 and 1 respectively.</p>
<p>Functions work on all metric measurements during the period time frame.</p>
<ul>
<li>min (returns the minimum of all the values)</li>
<li>max (returns the maximum of all the values)</li>
<li>sum (returns the sum of all the values)</li>
<li>count (returns the number of metric observations)</li>
<li>avg (returns the average of all the values)</li>
</ul>
<p>The metric is a complex identifier that consists of a namespace and an optional set of dimensions.</p>
<codeblock>
  <codeph>metric
    : namespace ('{' dimensions '}')?
</codeph>
</codeblock>
<p>
  <i>Metric example</i>
</p>
<codeblock>
  <codeph>hpcs.compute{metric_name=disk_read_ops, device=vda, instance_id=42ff6820-7c86-11e2-b92a-0800200c9a67}

hpcs.compute{metric_name=cpu_total_utilization, instance_id=42ff6820-7c86-11e2-b92a-0800200c9a67}

userspace{metric_name=usermetric}

userspace
</codeph>
</codeblock>
<p>The first example shows a namespace of 'hpcs.compute', see <xref type="section" href="#topic89696/Namespaces">Namespaces</xref>. The dimensions further qualifying the metric are 'metric_name=disk_read_ops', 'device=vda', and 'instance_id=42ff6820-7c86-11e2-b92a-0800200c9a67'. This fully describes where the metric comes from, what namespace it belongs to, and what metric type was measured.</p>
<p>The second example shows leaving out 1 of the dimensions.</p>
<p>The third example is for targeting a user defined namespace and metric name.</p>
<p>The fourth example is for targeting a user defined namespace and leaving the dimensions out entirely.</p>
<p>
  <i>Example with two subexpressions</i>
</p>
<codeblock>
  <codeph>( avg(hpcs.compute{metric_name=cpu_total_utilization, instance_id=42ff6820-7c86-11e2-b92a-0800200c9a67}) &gt; 90 ) or ( avg(hpcs.compute{metric_name=disk_read_ops, device=vda, instance_id=42ff6820-7c86-11e2-b92a-0800200c9a67}, 120) &gt; 1000 times 3 )
</codeph>
</codeblock>
<p>If the cpu_total_utilization is on average greater than 90 for a 60 second period for that instance then the alarm will trigger. If not that, then if the disk_read_ops for that same instance is on average greater than to 1000 for a 120 second period for 3 periods in a row, then the alarm will also trigger.</p>
<p>
  <i>User-defined metric example</i>
</p>
<codeblock>
  <codeph>count(userspace{metric_name=usermetric, instance_id=42ff6820-7c86-11e2-b92a-0800200c9a67}, 600) &gt; 7 times 5
</codeph>
</codeblock>
<p>This example shows 1 subexpression. It does a count of how many times the user publishes a user defined metric in a 600 second period. If more than 7 occur in that period and this happens 5 times in a row, then the alarm will trigger.</p>
</section>
<section id="Faults"> <title>2.6 Faults</title>
<p>When an fault occurs at request time, the system will return an HTTP error response code denoting the type of fault. The system will also return additional information about the fault in the body of the response.</p>
<p>
  <b>Fault Response</b>
</p>
<p>JSON</p>
<codeblock>
  <codeph>{  
    "fault_element": {
        "code": HTTP error code (integer),
        "message": "Fault information...",
        "details": "Fault Details...",
        "internal_code": "Internal error log code"
    }
}
</codeph>
</codeblock>
<p>The error code is returned in the body of the response for convenience. The message section returns a human-readable message that is appropriate for display to the end user. The details section is optional and may contain extra information. The internal_code section is optional monitoring logging information to further identify the cause of the fault.</p>
<p>The root element of the fault (the fault_element value) may change depending on the type of fault. The following is a list of possible elements along with their associated HTTP error codes.</p>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<thead>
<row>
<entry align="left">Fault Element</entry>
  <entry align="left">HTTP Error Code</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">bad_request</entry>
  <entry align="left">400</entry>
</row>
<row>
<entry align="left">unauthorized</entry>
  <entry align="left">401</entry>
</row>
<row>
<entry align="left">forbidden</entry>
  <entry align="left">403</entry>
</row>
<row>
<entry align="left">not_found</entry>
  <entry align="left">404</entry>
</row>
<row>
<entry align="left">conflict</entry>
  <entry align="left">409</entry>
</row>
<row>
<entry align="left">unprocessable_entity</entry>
  <entry align="left">422</entry>
</row>
<row>
<entry align="left">rate limited</entry>
  <entry align="left">429</entry>
</row>
<row>
<entry align="left">server_error</entry>
  <entry align="left">500</entry>
</row>
<row>
<entry align="left">service load balancers</entry>
  <entry align="left">503</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="faults-errorcode03"> <title>2.6.1 HTTP Error Code 503</title>
<p>HTTP Error Code 503 indicates an internal system error has occurred. The Monitoring service uses load balancing and rate-limiting technologies to protect the core application servers operating the service. The 503 error indicates an internal, temporary failure in the load balancing/rate limiting components. The body of the response is different from the normal fault response of the service.</p>
<p>
  <b>Fault Response</b>
</p>
<p>JSON</p>
<codeblock>{ "fault" : {
   { "faultstring": "&lt;short description of error&gt;",
      "detail" : {
         "errorcode": "&lt;text error code&gt;"
}}}
</codeblock>
<p>If you encounter this error, please retry the request. If the error persists or occurs at an unacceptable rate, please contact HP Customer Support and be sure to include in your report the full body of the response and the region and time you received this response.</p>
</section>
<section id="SupportSoftwareAndOtherTools"> <title>2.7 Support Software and Other Tools</title>
</section>
<section id="271-amqp-client-application"> <title>2.7.1 AMQP Client Application</title>
<p>
  <xref href="https://github.com/egustafson/grabbit" scope="external" format="html" >https://github.com/egustafson/grabbit</xref>
</p>
<p>There are several different AMQP client applications available. The above link points to a simple command line application that is useful for debugging. It uses python with the pika module.</p>
<p>
  <b>Execution</b>
</p>
<codeblock>
  <codeph>grabbit.py -u username -p password -q queue -v vhost hostname
</codeph>
</codeblock>
<p>
  <b>Execution example</b>
</p>
<codeblock>
  <codeph>grabbit.py -u mon-55287769266623 -p OUMkab5w0GdE -q metrics-55287769266623 -v 55287769266623 region-a.geo-1.amqp-monaas.hpcloudsvc.com
</codeph>
</codeblock>
<p>The return json from creating an endpoint:</p>
<codeblock>
  <codeph>{
  "endpoint": {
    "id": "612340f8-7a65-453e-b95e-9a13aaa51bbc",
    "links": [
      {
        "rel": "self",
        "href": "https://region-a.geo-1.monitoring-internal.hpcloudsvc.com/v1.1/endpoints/612340f8-7a65-453e-b95e-9a13aaa51bbc"
      }
    ],
    "uri": "amqp://region-a.geo-1.amqp-monaas.hpcloudsvc.com:5672/55287769266623",
    "meta": {
      "amqp_queue": "metrics-55287769266623",
      "amqp_username": "mon-55287769266623",
      "amqp_password": "OUMkab5w0GdE"
    }
  }
}
</codeph>
</codeblock>
</section>
<section id="Section3_"> <title>3. Account-level View</title>
<p>Requests to the Monitoring API are required to present a valid token which must be obtained from the Identity service prior to making a Monitoring API request.</p>
<p>More information about the Identity service:</p>
<p>
  <xref href="https://community.hpcloud.com/article/identity-service-introduction" scope="external" format="html" >Introduction to HP Helion Identity Service</xref>
</p>
<p>
  <xref href="https://community.hpcloud.com/knowledge-base-categories/cloud-identity-service" scope="external" format="html" >HP Helion Identity Service Overview</xref>
</p>
</section>
<section id="Accounts"> <title>3.1 Accounts</title>
<p>
<b>Note:</b> Access to the Monitoring API functions are also available through the <xref href="http://www.hpcloud.com/console" scope="external" format="html" >Console</xref> and it is the preferred method. You do NOT need to obtain an auth token when working from the <xref href="https://horizon.hpcloud.com/" scope="external" format="html" >Console</xref>. However when accessing the REST interface directly, you are required to include the auth token.</p>
<p>
  <b>Verifying Access</b>
</p>
<p>Log into your cloud account from the <xref href="https://horizon.hpcloud.com/" scope="external" format="html" >Console</xref> page. With the left side menu, go to Identity &gt; Projects. From this page you can retrieve your Project Name. Username and password are the same as you use to log into the <xref href="https://horizon.hpcloud.com/" scope="external" format="html" >Console</xref>.</p>
<p>
  <b>Requesting a Token</b>
</p>
<p>
  <b>
    <i>Request URI</i>
  </b>
</p>
<p>
  <i>For West:</i>
</p>
<codeblock>
  <codeph>curl -i -X POST \
https://region-a.geo-1.identity.hpcloudsvc.com:35357/v2.0/tokens \
-H "Content-Type: application/json" -H "Accept: application/json"
</codeph>
</codeblock>
<p>
  <i>For East:</i>
</p>
<codeblock>
  <codeph>curl -i -X POST \
https://region-b.geo-1.identity.hpcloudsvc.com:35357/v2.0/tokens \
-H "Content-Type: application/json" -H "Accept: application/json"
</codeph>
</codeblock>
<p>
  <b>
    <i>Request Body</i>
  </b>
</p>
<codeblock>
  <codeph>{"auth": {"tenantName": "yourprojectname", "passwordCredentials": {"username": "yourusername", "password": "yourpassword"}}}
</codeph>
</codeblock>
<p>
  <b>
    <i>Response Body</i>
  </b>
</p>
<codeblock>
  <codeph>{
    "access": {
        "token": {
            "expires": "2012-04-05T04:28:29.405Z",
            "id": "HPAuth10_65f6a8e01d5437d6d628448c8411b862de878f622bfd8238df3a6433dd601fd1",
            "tenant": {
                "id": "123456789",
                "name": "tenant@domain.com"
            }
        },
        "user": {
        "id": "987654321",
        "name": "tenant@hp.com",
        "roles": [
        {
            ...
        },
    },
    "serviceCatalog": [
        ...
    {
         "name": "Monitoring",
         "type": "hpext:monitoring",
         "endpoints": [
             {
                 "tenantId": "55287769244623",
                 "publicURL": "https://region-a.geo-1.monaas.hpcloudsvc.com/v1.1",
                 "publicURL2": "",
                 "region": "region-a.geo-1",
                 "versionId": "1.1",
                 "versionInfo": "https://region-a.geo-1.monaas.hpcloudsvc.com/v1.1",
                 "versionList": "https://region-a.geo-1.monaas.hpcloudsvc.com"
             },
             {
                 "tenantId": "55287769244623",
                 "publicURL": "https://region-b.geo-1.monitoring.hpcloudsvc.com/v1.1",
                 "publicURL2": "",
                 "region": "region-b.geo-1",
                 "versionId": "1.1",
                 "versionInfo": "https://region-b.geo-1.monitoring.hpcloudsvc.com/v1.1",
                 "versionList": "https://region-b.geo-1.monitoring.hpcloudsvc.com"
             }
         ]
    }
]
}}
</codeph>
</codeblock>
<p>
  <b>
    <i>Accessing Monitoring</i>
  </b>
</p>
<p>The endpoint for accessing the Monitoring API can be obtained from the service catalog returned in your authentication request.</p>
<codeblock>
  <codeph>https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/
https://region-b.geo-1.monitoring.hpcloudsvc.com/v1.1/
</codeph>
</codeblock>
<p>A request can then be made against resources at that endpoint by supplying the <codeph>access:token:id</codeph> from your authentication request as in your Monitoring API request header as an X-Auth-Token, for example:</p>
<codeblock>
  <codeph>X-Auth-Token: HPAuth10_65f6a8e01d5437d6d628448c8411b862de878f622bfd8238df3a6433dd601fd1)
</codeph>
</codeblock>
<p>
  <b>Sample Request</b>
</p>
<codeblock>
  <codeph>&gt; GET /v1.1/ HTTP/1.1
&gt; Host: 15.185.167.67:8779
&gt; Accept: application/json
&gt; Content-Type: application/json
&gt; X-Auth-Token: HPAuth10_65f6a8e01d5437d6d628448c8411b862de878f622bfd8238df3a6433dd601fd1
</codeph>
</codeblock>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>tenantName</codeph> with your Project ID value from the API Keys web page. Replace <codeph>username</codeph> and <codeph>password</codeph> with your credentials for logging in to HP Helion.</p>
<codeblock>
  <codeph>$ curl -i -X POST \
  https://region-a.geo-1.identity.hpcloudsvc.com:35357/v2.0/tokens \
  -H "Content-Type: application/json" -H "Accept: application/json" \
  -d '{"auth": {"tenantName": "yourprojectname", "passwordCredentials": {"username": "yourusername", "password": "yourpassword"}}}'
</codeph>
</codeblock>
</section>
<section id="AccountsRegions"> <title>3.2 Regions and Availability Zones</title>
<p>
  <b>Regions</b>
</p>
<ul>
<li>Region A West 13.5 (region-a.geo-1)</li>
<li>Region B East 13.5 (region-b.geo-1)</li>
</ul>
</section>
<section id="Section4_"> <title>4. REST API Specifications</title>
<p>The Monitoring API is implemented using a RESTful web service interface. All requests to authenticate and operate against the Monitoring API should be performed using SSL over HTTP (HTTPS) on TCP port 443.</p>
</section>
<section id="Service"> <title>4.1 Service API Operations</title>
<p>
  <b>Hosts</b>
</p>
<p>
  <i>US West</i>
</p>
<ul>
<li>https://region-a.geo-1.monitoring.hpcloudsvc.com</li>
</ul>
<p>
  <i>US East</i>
</p>
<ul>
<li>https://region-b.geo-1.monitoring.hpcloudsvc.com</li>
</ul>
<p>
<b>BaseUri</b>: {Host}/v1.1</p>
</section>
<section id="ServiceVersionOps"> <title>Version Operations</title>
<table>
<tgroup cols="5">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<colspec colname="col4"/>
<colspec colname="col5"/>
<thead>
<row>
<entry align="left">Resource</entry>
  <entry align="left">Operation</entry>
  <entry align="left">HTTP Method</entry>
  <entry align="left">Path</entry>
  <entry align="left">JSON/XML Support?</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">Version</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsListVersion">List all versions</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{Host}/</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Version</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsSpecificVersion">Get a specific version</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{Host}/<i>version_id</i>
</entry>
  <entry align="left">Y/N</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="ServiceEndpointOps"> <title>Endpoint Operations</title>
<table>
<tgroup cols="5">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<colspec colname="col4"/>
<colspec colname="col5"/>
<thead>
<row>
<entry align="left">Resource</entry>
  <entry align="left">Operation</entry>
  <entry align="left">HTTP Method</entry>
  <entry align="left">Path</entry>
  <entry align="left">JSON/XML Support?</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">Endpoint</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsCreateEndpoint">Create a new endpoint</xref>
</entry>
  <entry align="left">POST</entry>
  <entry align="left">{BaseUri}/endpoints</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Endpoint</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsListEndpoint">List all endpoints</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{BaseUri}/endpoints</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Endpoint</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsSpecificEndpoint">Get a specific endpoint</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{BaseUri}/endpoints/<i>endpoint_id</i>
</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Endpoint</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsDeleteEndpoint">Delete a specific endpoint</xref>
</entry>
  <entry align="left">DELETE</entry>
  <entry align="left">{BaseUri}/endpoints/<i>endpoint_id</i>
</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Endpoint</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsResetPasswordEndpoint">Reset the password for a specific endpoint</xref>
</entry>
  <entry align="left">POST</entry>
  <entry align="left">{BaseUri}/endpoints/<i>endpoint_id</i>/reset-password</entry>
  <entry align="left">Y/N</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="ServiceSubscriptionOps"> <title>Subscription Operations</title>
<table>
<tgroup cols="5">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<colspec colname="col4"/>
<colspec colname="col5"/>
<thead>
<row>
<entry align="left">Resource</entry>
  <entry align="left">Operation</entry>
  <entry align="left">HTTP Method</entry>
  <entry align="left">Path</entry>
  <entry align="left">JSON/XML Support?</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">Subscription</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsCreateSubscription">Create a new subscription</xref>
</entry>
  <entry align="left">POST</entry>
  <entry align="left">{BaseUri}/subscriptions</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Subscription</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsListSubscription">List all subscriptions</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{BaseUri}/subscriptions</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Subscription</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsSpecificSubscription">Get a specific subscription</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{BaseUri}/subscriptions/<i>subscription_id</i>
</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Subscription</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsDeleteSubscription">Delete a specific subscription</xref>
</entry>
  <entry align="left">DELETE</entry>
  <entry align="left">{BaseUri}/subscriptions/<i>subscription_id</i>
</entry>
  <entry align="left">Y/N</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="ServiceNotificationOps"> <title>Notification Method Operations</title>
<table>
<tgroup cols="5">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<colspec colname="col4"/>
<colspec colname="col5"/>
<thead>
<row>
<entry align="left">Resource</entry>
  <entry align="left">Operation</entry>
  <entry align="left">HTTP Method</entry>
  <entry align="left">Path</entry>
  <entry align="left">JSON/XML Support?</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">Notification Method</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsCreateNotification">Create a new notification method</xref>
</entry>
  <entry align="left">POST</entry>
  <entry align="left">{BaseUri}/notification-methods</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Notification Method</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsListNotification">List all notification methods</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{BaseUri}/notification-methods</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Notification Method</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsSpecificNotification">Get a specific notification method</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{BaseUri}/notification-methods/<i>notification_method_id</i>
</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Notification Method</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsDeleteNotification">Delete a specific notification method</xref>
</entry>
  <entry align="left">DELETE</entry>
  <entry align="left">{BaseUri}/notification-methods/<i>notification_method_id</i>
</entry>
  <entry align="left">Y/N</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="ServiceNotificationAddressOps"> <title>Notification Address Operations</title>
<table>
<tgroup cols="5">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<colspec colname="col4"/>
<colspec colname="col5"/>
<thead>
<row>
<entry align="left">Resource</entry>
  <entry align="left">Operation</entry>
  <entry align="left">HTTP Method</entry>
  <entry align="left">Path</entry>
  <entry align="left">JSON/XML Support?</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">Notification Address</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsCreateAddress">Create a new notification address</xref>
</entry>
  <entry align="left">POST</entry>
  <entry align="left">{BaseUri}/notification-addresses</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Notification Address</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsListAddress">List all notification addresses</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{BaseUri}/notification-addresses</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Notification Address</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsSpecificAddress">Get a specific notification address</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{BaseUri}/notification-addresses/<i>notification_address_id</i>
</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Notification Address</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsDeleteAddress">Delete a specific notification address</xref>
</entry>
  <entry align="left">DELETE</entry>
  <entry align="left">{BaseUri}/notification-addresses/<i>notification_address_id</i>
</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Notification Address</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsValidateAddress">Validate received validation code for a specific notification address</xref>
</entry>
  <entry align="left">POST</entry>
  <entry align="left">{BaseUri}/notification-addresses/validate</entry>
  <entry align="left">Y/N</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="ServiceAlarmOps"> <title>Alarm Operations</title>
<table>
<tgroup cols="5">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<colspec colname="col4"/>
<colspec colname="col5"/>
<thead>
<row>
<entry align="left">Resource</entry>
  <entry align="left">Operation</entry>
  <entry align="left">HTTP Method</entry>
  <entry align="left">Path</entry>
  <entry align="left">JSON/XML Support?</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">Alarm</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsCreateAlarm">Create a new alarm</xref>
</entry>
  <entry align="left">POST</entry>
  <entry align="left">{BaseUri}/alarms</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Alarm</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsListAlarm">List all alarms</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{BaseUri}/alarms</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Alarm</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsSpecificAlarm">Get a specific alarm</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{BaseUri}/alarms/<i>alarm_id</i>
</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Alarm</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsDeleteAlarm">Delete a specific alarm</xref>
</entry>
  <entry align="left">DELETE</entry>
  <entry align="left">{BaseUri}/alarms/<i>alarm_id</i>
</entry>
  <entry align="left">Y/N</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="ServiceMetricsOps"> <title>Metrics Operations</title>
<table>
<tgroup cols="5">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<colspec colname="col4"/>
<colspec colname="col5"/>
<thead>
<row>
<entry align="left">Resource</entry>
  <entry align="left">Operation</entry>
  <entry align="left">HTTP Method</entry>
  <entry align="left">Path</entry>
  <entry align="left">JSON/XML Support?</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">Metrics</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsCreateMetric">Create a new metric</xref>
</entry>
  <entry align="left">POST</entry>
  <entry align="left">{BaseUri}/metrics</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Metrics</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsCreateMetrics">Create new aggregated metrics</xref>
</entry>
  <entry align="left">POST</entry>
  <entry align="left">{BaseUri}/metrics/aggregate</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Metrics</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsGetMetrics">Get metric datapoints</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{BaseUri}/metrics</entry>
  <entry align="left">Y/N</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="ServiceMeteringOps"> <title>Metering Operations</title>
<table>
<tgroup cols="5">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<colspec colname="col4"/>
<colspec colname="col5"/>
<thead>
<row>
<entry align="left">Resource</entry>
  <entry align="left">Operation</entry>
  <entry align="left">HTTP Method</entry>
  <entry align="left">Path</entry>
  <entry align="left">JSON/XML Support?</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">Metering</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsSetMonitoringLevel">Set the Monitoring Level</xref>
</entry>
  <entry align="left">POST</entry>
  <entry align="left">{BaseUri}/metering</entry>
  <entry align="left">Y/N</entry>
</row>
<row>
<entry align="left">Metering</entry>
  <entry align="left">
<xref type="section" href="#topic89696/ServiceDetailsGetMonitoringLevel">Get the Monitoring Level</xref>
</entry>
  <entry align="left">GET</entry>
  <entry align="left">{BaseUri}/metering</entry>
  <entry align="left">Y/N</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="CommonRequests"> <title>4.2 Common Requests</title>
</section>
<section id="CommonRequestHeaders"> <title>4.2.1 Common Request Headers</title>
<p>
  <b>Http standard request headers</b>
</p>
<ul>
<li>
<p>
<i>Accept</i>
</p>

<p>Internet media types that are acceptable in the response. Monitoring supports the media types application/xml and application/json.</p>
</li>
<li>
<p>
<i>Content-Length</i>
</p>

<p>The length of the request body in octets (8-bit bytes).</p>
</li>
<li>
<p>
<i>Content-Type</i>
</p>

<p>The Internet media type of the request body. Used with POST and PUT requests. Must be either application/xml or application/json.</p>
</li>
<li>
<p>
<i>Host</i>
</p>

<p>The domain name of the server hosting Monitoring.</p>
</li>
</ul>
<p>
  <b>Non-standard request headers</b>
</p>
<ul>
<li>
<p>
<i>X-Auth-Token</i>
</p>

<p>HP Helion authorization token.</p>
</li>
</ul>
<p>
  <b>Example</b>
</p>
<codeblock>
  <codeph>POST /v1.1/subscriptions HTTP/1.1
Host: region-a.geo-1.monitoring.hpcloudsvc.com
Content-Type: application/json
Accept: application/json
X-Auth-Token: HPAuth_2895c13b1118e23d977f6a21aa176fd2bd8a10e04b74bd8e353216072968832a
Content-Length: 85
</codeph>
</codeblock>
</section>
<section id="CommonResponses"> <title>4.3 Common Responses</title>
</section>
<section id="CommonResponseHeaders"> <title>4.3.1 Common Response Headers</title>
<p>
  <b>Http standard response headers</b>
</p>
<ul>
<li>
<p>
<i>Content-Length</i>
</p>

<p>The length of the response body in octets (8-bit bytes).</p>
</li>
<li>
<p>
<i>Content-Type</i>
</p>

<p>Internet media type of the response body.</p>
</li>
<li>
<p>
<i>Date</i>
</p>

<p>The date and time that the response was sent.</p>
</li>
</ul>
<p>
  <b>Example</b>
</p>
<codeblock>
  <codeph>HTTP/1.1 200 OK
Content-Length: 1135
Content-Type: application/json; charset=UTF-8
Date: Tue, 30 Oct 2012 16:22:35 GMT
</codeph>
</codeblock>
</section>
<section id="ServiceDetails"> <title>4.4 Service API Operation Details</title>
</section>
<section id="ServiceDetailsVersion"> <title>4.4.1 Versions</title>
<p>Provides information about the supported Monitoring API versions.</p>
</section>
<section id="ServiceDetailsListVersion"> <title>4.4.1.1 List All Versions</title>
</section>
<section id="get-"> <title>GET /</title>
<p>Lists all versions.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET / HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">id</entry>
  <entry align="left">string</entry>
  <entry align="left">API version number.</entry>
</row>
<row>
<entry align="left">rel</entry>
  <entry align="left">string</entry>
  <entry align="left">Relationship type.</entry>
</row>
<row>
<entry align="left">href</entry>
  <entry align="left">string</entry>
  <entry align="left">Hypermedia reference.</entry>
</row>
<row>
<entry align="left">status</entry>
  <entry align="left">string</entry>
  <entry align="left">Status of the API, if it is active and/or current.</entry>
</row>
<row>
<entry align="left">updated</entry>
  <entry align="left">timestamp</entry>
  <entry align="left">Internal timestamp of when the API was released.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>JSON</p>
<codeblock>
  <codeph>{  
  "versions": [
    {
      "id": "1.0",
      "links" : [
        {
          "rel": "self",
          "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/1.0"
        }
      ],
      "status": "DEPRECATED",
      "updated": "1361977272958"
    },
    {
      "id": "1.1",
      "links" : [
        {
          "rel": "self",
          "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/1.1"
        }
      ],
      "status": "CURRENT",
      "updated": "1361977272958"
    }
  ]
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  https://region-a.geo-1.monitoring.hpcloudsvc.com \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsSpecificVersion"> <title>4.4.1.2 Get a Specific Version</title>
</section>
<section id="get-version-id"> <title>GET /{version_id}</title>
<p>Gets the details of a specific version identified by <codeph>{version_id}</codeph>.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET /v1.1 HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>Common attributes described in <xref type="section" href="#topic89696/ServiceDetailsListVersion">4.4.1.1 List All Versions</xref>.</p>
<p>JSON</p>
<codeblock>
  <codeph>{  
  "version": {
    "id": "1.1",
    "links" : [
      {
        "rel": "self",
        "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1"
      }
    ],
    "status": "CURRENT",
    "updated": "2012-09-25T00:00:00Z"
  }
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">404</entry>
  <entry align="left">Not Found</entry>
  <entry align="left">Requested resource cannot be found.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1 \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsEndpoint"> <title>4.4.2 Endpoint</title>
<p>The endpoint resource represents an endpoint from which metrics can be consumed.</p>
<p>
  <b>Note:</b>
</p>
<ul>
<li>The amqp_password is not retrievable after endpoint creation. If the password is lost, then the password reset operation must be performed.*</li>
<li>Only one Endpoint can be created at a time per project.</li>
</ul>
</section>
<section id="ServiceDetailsCreateEndpoint"> <title>4.4.2.1 Create a New Endpoint</title>
</section>
<section id="post-endpoints"> <title>POST /endpoints</title>
<p>Creates a new endpoint for metric consumption. AMQP and URI information needs to be retained for accessing the message queue.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>POST /v1.1/endpoints HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<codeblock>
  <codeph>HTTP/1.1 201 Created
Content-Type: application/json
Content-Length: 337
Location: /v1.1/endpoints/${endpoint_id}
</codeph>
</codeblock>
<p>
  <b>Status Code</b>
</p>
<p>201 - Created</p>
<p>
  <b>Response Data</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">id</entry>
  <entry align="left">string</entry>
  <entry align="left">Return value id of the call.</entry>
</row>
<row>
<entry align="left">rel</entry>
  <entry align="left">string</entry>
  <entry align="left">Relationship type.</entry>
</row>
<row>
<entry align="left">href</entry>
  <entry align="left">string</entry>
  <entry align="left">Hypermedia reference.</entry>
</row>
<row>
<entry align="left">uri</entry>
  <entry align="left">string</entry>
  <entry align="left">URI of the amqp router.</entry>
</row>
<row>
<entry align="left">meta</entry>
  <entry align="left">array</entry>
  <entry align="left">Amqp router information.</entry>
</row>
<row>
<entry align="left">amqp_password</entry>
  <entry align="left">string</entry>
  <entry align="left">Needed to access the amqp router.</entry>
</row>
<row>
<entry align="left">amqp_username</entry>
  <entry align="left">string</entry>
  <entry align="left">Needed to access the amqp router.</entry>
</row>
<row>
<entry align="left">amqp_queue</entry>
  <entry align="left">string</entry>
  <entry align="left">Needed to access the amqp router.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>JSON</p>
<codeblock>
  <codeph>{
  "endpoint": {
    "id": "eabe9e32-6ce0-4a36-9750-df415606b44c",
    "links": [
      {
        "rel": "self",
        "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/endpoints/eabe9e32-6ce0-4a36-9750-df415606b44c"
      }
    ],
    "uri": "amqp://region-a.geo-1.amqp-monitoring.hpcloudsvc.com:5672/385937540",
    "meta": {
      "amqp_password":"GnbV94wW3MF90",
      "amqp_username": "385937540",
      "amqp_queue": "metrics-67892236969703",
    }
  }
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">409</entry>
  <entry align="left">Conflict</entry>
  <entry align="left">An endpoint for this project already exists.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>.</p>
<codeblock>
  <codeph>$ curl -i -X POST \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/endpoints \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsListEndpoint"> <title>4.4.2.2 List All Endpoints</title>
</section>
<section id="get-endpoints"> <title>GET /endpoints</title>
<p>Lists all endpoints. Password information is not present.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET /v1.1/endpoints HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>Common attributes described in <xref type="section" href="#topic89696/ServiceDetailsCreateEndpoint">4.4.2.1 Create a New Endpoint</xref>.</p>
<p>JSON</p>
<codeblock>
  <codeph>{
  "endpoints": [
    {
      "id": "eabe9e32-6ce0-4a36-9750-df415606b44c",
      "links": [
        {
          "rel": "self",
          "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/endpoints/eabe9e32-6ce0-4a36-9750-df415606b44c"
        }
      ],
      "uri": "amqp://region-a.geo-1.amqp-monitoring.hpcloudsvc.com:5672/385937540"
    },
  ]
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/endpoints \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsSpecificEndpoint"> <title>4.4.2.3 Get a Specific Endpoint</title>
</section>
<section id="get-endpointsendpoint-id"> <title>GET /endpoints/${endpoint_id}</title>
<p>Gets the details of a specific endpoint identified by <codeph>${endpoint_id}</codeph>. Password information is not present.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET /v1.1/endpoints/${endpoint_id} HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>Common attributes described in <xref type="section" href="#topic89696/ServiceDetailsCreateEndpoint">4.4.2.1 Create a New Endpoint</xref>.</p>
<p>JSON</p>
<codeblock>
  <codeph>{
  "endpoint": {
    "id": "eabe9e32-6ce0-4a36-9750-df415606b44c",
    "links": [
      {
        "rel": "self",
        "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/endpoints/eabe9e32-6ce0-4a36-9750-df415606b44c"
      }
    ],
    "uri": "amqp://region-a.geo-1.amqp-monitoring.hpcloudsvc.com:5672/385937540",
    "meta": {
      "amqp_username": "385937540",
      "amqp_queue": "metrics-67892236969703"
    }
  }
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">404</entry>
  <entry align="left">Not Found</entry>
  <entry align="left">Requested resource cannot be found.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace <codeph>${endpoint_id}</codeph> with the actual endpoint id.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/endpoints/${endpoint_id} \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsDeleteEndpoint"> <title>4.4.2.4 Delete a Specific Endpoint</title>
</section>
<section id="delete-endpointsendpoint-id"> <title>DELETE /endpoints/${endpoint_id}</title>
<p>Deletes a specific endpoint identified by <codeph>${endpoint_id}</codeph>.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>DELETE /v1.1/endpoints/${endpoint_id} HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>204 - No Content</p>
<p>
  <b>Response Data</b>
</p>
<p>This call does not provide a response body.</p>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">404</entry>
  <entry align="left">Not Found</entry>
  <entry align="left">Requested resource cannot be found.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace <codeph>${endpoint_id}</codeph> with the actual endpoint id.</p>
<codeblock>
  <codeph>$ curl -i -X DELETE \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/endpoints/${endpoint_id} \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsResetPasswordEndpoint"> <title>4.4.2.4 Reset the Password for a Specific Endpoint</title>
</section>
<section id="post-endpointsendpoint-idreset-password"> <title>POST /endpoints/${endpoint_id}/reset-password</title>
<p>Resets the password for a specific endpoint identified by <codeph>${endpoint_id}</codeph>.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>POST /v1.1/endpoints/${endpoint_id}/reset-password HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">password</entry>
  <entry align="left">string</entry>
  <entry align="left">Newly created amqp_password</entry>
</row>
</tbody>
</tgroup>
</table>
<codeblock>
  <codeph>{
  "password": "mEfOy34qJV"
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">404</entry>
  <entry align="left">Not Found</entry>
  <entry align="left">Requested resource cannot be found.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace <codeph>${endpoint_id}</codeph> with the actual endpoint id.</p>
<codeblock>
  <codeph>$ curl -i -X POST \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/endpoints/${endpoint_id}/reset-password \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsSubscription"> <title>4.4.3 Subscription</title>
<p>The subscription resource represents a subscription to consume metrics.</p>
<p>
<b>Note:</b> Only AMQP basicConsume functionality is allowed. You cannot create queues or exchanges.</p>
</section>
<section id="ServiceDetailsCreateSubscription"> <title>4.4.3.1 Create a New Subscription</title>
</section>
<section id="post-subscriptions"> <title>POST /subscriptions</title>
<p>Creates a new subscription to consume metrics.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>POST /v1.1/subscriptions HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
Content-Type: application/json
Accept: application/json
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">endpoint_id</entry>
  <entry align="left">string</entry>
  <entry align="left">The id of an endpoint to subscribe to or view.</entry>
</row>
<row>
<entry align="left">namespace</entry>
  <entry align="left">string</entry>
  <entry align="left">The namespace of the metrics to receive. See <xref type="section" href="#topic89696/Namespaces">Namespaces</xref>.</entry>
</row>
<row>
<entry align="left">dimensions</entry>
  <entry align="left">dictionary</entry>
  <entry align="left">The dimensions of metrics to receive. May be empty for user defined namespaces. See <xref type="section" href="#topic89696/Namespaces">Dimensions</xref>.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>JSON</p>
<codeblock>
  <codeph>{
  "subscription": {
    "endpoint_id": "eabe9e32-6ce0-4a36-9750-df415606b44c",
    "namespace": "hpcs.compute",
    "dimensions": {
      "instance_id": "31ff6820-7c86-11e2-b92a-0800200c9a66"
    }
  }
}
</codeph>
</codeblock>
<p>
  <b>Success Response</b>
</p>
<codeblock>
  <codeph>HTTP/1.1 201 Created
Content-Type: application/json
Content-Length: 337
Location: /v1.1/subscriptions/${subscription_id}
</codeph>
</codeblock>
<p>
  <b>Status Code</b>
</p>
<p>201 - Created</p>
<p>
  <b>Response Data</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">id</entry>
  <entry align="left">string</entry>
  <entry align="left">Return value id of the call.</entry>
</row>
<row>
<entry align="left">rel</entry>
  <entry align="left">string</entry>
  <entry align="left">Relationship type.</entry>
</row>
<row>
<entry align="left">href</entry>
  <entry align="left">string</entry>
  <entry align="left">Hypermedia reference.</entry>
</row>
<row>
<entry align="left">endpoint_id</entry>
  <entry align="left">string</entry>
  <entry align="left">The id of an endpoint to subscribe to or view.</entry>
</row>
<row>
<entry align="left">namespace</entry>
  <entry align="left">string</entry>
  <entry align="left">The namespace of the metrics to receive. See <xref type="section" href="#topic89696/Namespaces">Namespaces</xref>.</entry>
</row>
<row>
<entry align="left">dimensions</entry>
  <entry align="left">dictionary</entry>
  <entry align="left">The dimensions of metrics to receive. See <xref type="section" href="#topic89696/Namespaces">Dimensions</xref>.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>JSON</p>
<codeblock>
  <codeph>{
  "subscriptions": {
    "id": "cdace7b4-8bea-404c-848c-860754a76fb7",
    "links": [
      {
        "rel": "self",
        "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/subscriptions/cdace7b4-8bea-404c-848c-860754a76fb7"
      }
    ],
    "endpoint_id": "eabe9e32-6ce0-4a36-9750-df415606b44c",
    "namespace": "hpcs.compute",
    "dimensions": {
      "instance_id": "31ff6820-7c86-11e2-b92a-0800200c9a66"
    }
    "meta": {}
  }
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">409</entry>
  <entry align="left">Conflict</entry>
  <entry align="left">A Subscription for this combination of endpoint_id, namespace, and dimension already exists for this project.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace the values for <codeph>endpoint_id</codeph>, <codeph>namespace</codeph>, <codeph>instance_id</codeph>.</p>
<codeblock>
  <codeph>$ curl -i -X POST \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/subscriptions \
  -H "X-Auth-Token: ${Auth_Token}" -H "Content-Type: application/json" -H "Accept: application/json" \
  -d '{"subscription": {"endpoint_id": "4d159ef6-0b6a-439b-a5bf-07459e1005b8", "namespace": "hpcs.compute", "dimensions": {"instance_id": "31ff6820-7c86-11e2-b92a-0800200c9a66"}}}'
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsListSubscription"> <title>4.4.3.2 List All Subscriptions</title>
</section>
<section id="get-subscriptions"> <title>GET /subscriptions</title>
<p>Lists all subscriptions.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET /v1.1/subscriptions HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>Common attributes described in <xref type="section" href="#topic89696/ServiceDetailsCreateSubscription">4.4.3.1 Create a New Subscription</xref>.</p>
<p>JSON</p>
<codeblock>
  <codeph>{
  "subscriptions": [
    {
      "id": "cdace7b4-8bea-404c-848c-860754a76fb7",
      "links": [
        {
          "rel": "self",
          "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/subscriptions/cdace7b4-8bea-404c-848c-860754a76fb7"
        }
      ],
      "endpoint_id": "36351ef0-3ff3-11e2-a25f-0800200c9a66",
      "namespace": "hpcs.compute",
      "dimensions": {
        "instance_id": "31ff6820-7c86-11e2-b92a-0800200c9a66"
      }
    },
    {
      "id": "abce9e32-6ce0-4a36-9750-df415606babc",
      "links": [
        {
          "rel": "self",
          "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/subscriptions/abce9e32-6ce0-4a36-9750-df415606babc"
        }
      ],
      "endpoint_id": "3d713b90-3ff3-11e2-a25f-0800200c9a66",
      "namespace": "hpcs.compute",
      "dimensions": {
        "instance_id": "42ff6820-7c86-11e2-b92a-0800200c9a67"
      }
    }
  ]
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/subscriptions \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsSpecificSubscription"> <title>4.4.3.3 Get a Specific Subscription</title>
</section>
<section id="get-subscriptionssubscription-id"> <title>GET /subscriptions/${subscription_id}</title>
<p>Gets the details of a specific subscription identified by ${subscription_id}.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET /v1.1/subscriptions/${subscription_id} HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>Common attributes described in <xref type="section" href="#topic89696/ServiceDetailsCreateSubscription">4.4.3.1 Create a New Subscription</xref>.</p>
<p>JSON</p>
<codeblock>
  <codeph>{
  "subscription": {
    "id": "eabe9e32-6ce0-4a36-9750-df415606b44c",
    "links": [
      {
        "rel": "self",
        "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/subscriptions/eabe9e32-6ce0-4a36-9750-df415606b44c"
      }
    ],
    "endpoint_id": "36351ef0-3ff3-11e2-a25f-0800200c9a66",
    "namespace": "hpcs.compute",
    "dimensions": {
      "instance_id": "31ff6820-7c86-11e2-b92a-0800200c9a66"
    },
    "meta": {}
  }
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">404</entry>
  <entry align="left">Not Found</entry>
  <entry align="left">Requested resource cannot be found.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace <codeph>${subscription_id}</codeph> with the actual subscription id.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/subscriptions/${subscription_id} \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsDeleteSubscription"> <title>4.4.3.4 Delete a Specific Subscription</title>
</section>
<section id="delete-subscriptionssubscription-id"> <title>DELETE /subscriptions/${subscription_id}</title>
<p>Deletes a specific subscription identified by ${subscription_id}.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>DELETE /v1.1/subscriptions/${subscription_id} HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>204 - No Content</p>
<p>
  <b>Response Data</b>
</p>
<p>This call does not provide a response body.</p>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">404</entry>
  <entry align="left">Not Found</entry>
  <entry align="left">Requested resource cannot be found.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace <codeph>${subscription_id}</codeph> with the actual subscriptions id.</p>
<codeblock>
  <codeph>$ curl -i -X DELETE \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/subscriptions/${subscription_id} \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsNotification"> <title>4.4.4 Notification Method</title>
<p>The notification method resource represents a method through which notifications can be sent.</p>
<p>
<b>Note:</b> SMS is currently only supported for US customers.</p>
</section>
<section id="ServiceDetailsCreateNotification"> <title>4.4.4.1 Create a New Notification Method</title>
</section>
<section id="post-notification-methods"> <title>POST /notification-methods</title>
<p>Creates a new notification method through which notifications can be sent when an alarm is triggered.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>POST /v1.1/notification-methods HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
Content-Type: application/json
Accept: application/json
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">name</entry>
  <entry align="left">string (250)</entry>
  <entry align="left">A descriptive name.</entry>
</row>
<row>
<entry align="left">type</entry>
  <entry align="left">enumeration</entry>
  <entry align="left">The type of notification method (SMS, EMAIL).</entry>
</row>
<row>
<entry align="left">address</entry>
  <entry align="left">string (100)</entry>
  <entry align="left">The address / number to notify.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>JSON</p>
<codeblock>
  <codeph>{
  "notification_method": {
    "name": "Joe's Email",
    "type": "EMAIL",
    "address": "joe@mail.com"
  }
}
</codeph>
</codeblock>
<p>
  <b>Success Response</b>
</p>
<codeblock>
  <codeph>HTTP/1.1 201 Created
Content-Type: application/json
Content-Length: 337
Location: /v1.1/notification-methods/${notification_method_id}
</codeph>
</codeblock>
<p>
  <b>Status Code</b>
</p>
<p>201 - Created</p>
<p>
  <b>Response Data</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">id</entry>
  <entry align="left">string</entry>
  <entry align="left">Return value id of the call.</entry>
</row>
<row>
<entry align="left">rel</entry>
  <entry align="left">string</entry>
  <entry align="left">Relationship type.</entry>
</row>
<row>
<entry align="left">href</entry>
  <entry align="left">string</entry>
  <entry align="left">Hypermedia reference.</entry>
</row>
<row>
<entry align="left">name</entry>
  <entry align="left">string</entry>
  <entry align="left">A descriptive name.</entry>
</row>
<row>
<entry align="left">type</entry>
  <entry align="left">string / enumeration</entry>
  <entry align="left">The type of notification method (SMS, EMAIL).</entry>
</row>
<row>
<entry align="left">address</entry>
  <entry align="left">string</entry>
  <entry align="left">The address / number to notify.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>JSON</p>
<codeblock>
  <codeph>{
  "notification_method": {
    "id": "acb8ad2b-6ce0-4a36-9750-a78bc7da87a2",
    "links" : [
      {
        "rel": "self",
        "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-methods/acb8ad2b-6ce0-4a36-9750-a78bc7da87a2"
      }
    ],
    "name": "Joe's Email",
    "type": "EMAIL",
    "address": "joe@mail.com"
  }
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace the values for <codeph>name</codeph>, <codeph>type</codeph>, and <codeph>address</codeph>.</p>
<codeblock>
  <codeph>$ curl -i -X POST \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-methods \
  -H "Content-Type: application/json" -H "Accept: application/json" \
  -H "X-Auth-Token: ${Auth_Token}" \
  -d '{"notification_method": {"name": "Joe'\''s Email", "type": "EMAIL", "address": "joe@mail.com"}}'
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsListNotification"> <title>4.4.4.2 List All Notification Methods</title>
</section>
<section id="get-notification-methods"> <title>GET /notification-methods</title>
<p>Lists all notification methods.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET /v1.1/notification-methods HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>Common attributes described in <xref type="section" href="#topic89696/ServiceDetailsCreateNotification">4.4.4.1 Create a New Notification Method</xref>.</p>
<p>JSON</p>
<codeblock>
  <codeph>{
  "notification_methods": [
    {
      "id": "eabe9e32-6ce0-4a36-9750-df415606b44c",
      "links" : [
        {
          "rel": "self",
          "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-methods/eabe9e32-6ce0-4a36-9750-df415606b44c"
        }
      ],
      "name": "Joe's Email",
      "type": "EMAIL",
      "address": "joe@mail.com"
    },
    {
      "id": "acb8ad2b-6ce0-4a36-9750-a78bc7da87a2",
      "links" : [
        {
          "rel": "self",
          "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-methods/acb8ad2b-6ce0-4a36-9750-a78bc7da87a2"
        }
      ],
      "name": "Joe's Phone",
      "type": "SMS",
      "address": "+12063823454"
    }
  ]
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-methods \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsSpecificNotification"> <title>4.4.4.3 Get a Specific Notification Method</title>
</section>
<section id="get-notification-methodsnotification-method-id"> <title>GET /notification-methods/${notification_method_id}</title>
<p>Gets the details of a specific notification method identified by <codeph>${notification_method_id}</codeph>.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET /v1.1/notification-methods/${notification_method_id} HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>Common attributes described in <xref type="section" href="#topic89696/ServiceDetailsCreateNotification">4.4.4.1 Create a New Notification Method</xref>.</p>
<p>JSON</p>
<codeblock>
  <codeph>{
  "notification_method": {
    "id": "eabe9e32-6ce0-4a36-9750-df415606b44c",
    "links" : [
      {
        "rel": "self",
        "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-methods/eabe9e32-6ce0-4a36-9750-df415606b44c"
      }
    ],
    "name": "Joe's Email",
    "type": "EMAIL",
    "address": "joe@mail.com"
  }
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">404</entry>
  <entry align="left">Not Found</entry>
  <entry align="left">Requested resource cannot be found.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace <codeph>${notification_method_id}</codeph> with the actual notification-method id.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-methods/${notification_method_id} \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsDeleteNotification"> <title>4.4.4.4 Delete a Specific Notification Method</title>
</section>
<section id="delete-notification-methodsnotification-method-id"> <title>DELETE /notification-methods/${notification_method_id}</title>
<p>Deletes a specific notification method identified by <codeph>${notification_method_id}</codeph>.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>DELETE /v1.1/notification-methods/${notification_method_id} HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>204 - No Content</p>
<p>
  <b>Response Data</b>
</p>
<p>This call does not provide a response body.</p>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">404</entry>
  <entry align="left">Not Found</entry>
  <entry align="left">Requested resource cannot be found.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace <codeph>${notification_method_id}</codeph> with the actual notification-method id.</p>
<codeblock>
  <codeph>$ curl -i -X DELETE \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-methods/${notification_method_id} \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsNotificationAddress"> <title>4.4.5 Notification Address</title>
<p>In order to avoid misuses of the notification system, the Monitoring API requires that email and SMS addresses be validated before notifications are sent. The notification address resource represents validated address to which notifications can be sent. Notifications destined for addresses which have not been validated will not be
delivered.</p>
<p>
<b>Note:</b> SMS is currently only supported for US customers.</p>
<p>Validation of notification addresses is a two step process:</p>
<ol>
<li>Create a new notification address by <xref type="section" href="#topic89696/ServiceDetailsCreateAddress">sending a POST command to the /notification-addresses resource</xref>.</li>
<li>Taking the validation code delivered to the new address and <xref type="section" href="#topic89696/ServiceDetailsValidateAddress">sending a POST command to the /notification-addresses/validate resource</xref>.</li>
</ol>
<p>The validation code sent by the monitoring notification API is not returned by the POST command in step 1 above. Rather it is used to prove that the sender of the API command has access to the notification address.</p>
</section>
<section id="ServiceDetailsCreateAddress"> <title>4.4.5.1 Create a New Notification Address</title>
</section>
<section id="post-notification-addresses"> <title>POST /notification-addresses</title>
<p>Creates a new notification address through which notifications can be sent when an alarm is triggered.</p>
<p>
<b>Note:</b> A status code of 400 will be returned if the notification address could not be validated. Addresses of type EMAIL the address should be deliverable by a standards-confirming SMTP server. For addresses of type SMS the address should be in the E.164 format for international telephone numbers. This requires a leading + (plus sign) followed by the country code, then the regional number.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>POST /v1.1/notification-addresses HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
Content-Type: application/json
Accept: application/json
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">type</entry>
  <entry align="left">enumeration</entry>
  <entry align="left">The type of notification address (SMS, EMAIL).</entry>
</row>
<row>
<entry align="left">address</entry>
  <entry align="left">string (100)</entry>
  <entry align="left">The address / number to verify.</entry>
</row>
<row>
<entry align="left">name</entry>
  <entry align="left">string (100)</entry>
  <entry align="left">A textual description of the address.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>JSON</p>
<codeblock>
  <codeph>{
  "notification_address": {
    "type": "EMAIL",
    "address": "joe@mail.com",
    "name": "Joe's email"
  }
}
</codeph>
</codeblock>
<p>
  <b>Success Response</b>
</p>
<codeblock>
  <codeph>HTTP/1.1 201 Created
Content-Type: application/json
Content-Length: 337
Location: /v1.1/notification-addresses/${notification_addresses_id}
</codeph>
</codeblock>
<p>
  <b>Status Code</b>
</p>
<p>201 - Created</p>
<p>
  <b>Response Data</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">id</entry>
  <entry align="left">string</entry>
  <entry align="left">Return value id of the call.</entry>
</row>
<row>
<entry align="left">rel</entry>
  <entry align="left">string</entry>
  <entry align="left">Relationship type.</entry>
</row>
<row>
<entry align="left">href</entry>
  <entry align="left">string</entry>
  <entry align="left">Hypermedia reference.</entry>
</row>
<row>
<entry align="left">type</entry>
  <entry align="left">string / enumeration</entry>
  <entry align="left">The type of notification address (SMS, EMAIL).</entry>
</row>
<row>
<entry align="left">address</entry>
  <entry align="left">string</entry>
  <entry align="left">The address / number to notify.</entry>
</row>
<row>
<entry align="left">name</entry>
  <entry align="left">string</entry>
  <entry align="left">The textual description of the address.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>JSON</p>
<codeblock>
  <codeph>{
  "notification_address": {
    "id": "ada28363-a4dc-4bda-85f4-fd37dea6f543",
    "links" : [
      {
        "rel": "self",
        "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-address/ada28363-a4dc-4bda-85f4-fd37dea6f543"
      }
    ],
    "type": "EMAIL",
    "state": "in-progress",
    "address": "joe@mail.com",
    "name": "Joe's email"
  }
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace the values for <codeph>type</codeph> and <codeph>address</codeph>.</p>
<codeblock>
  <codeph>$ curl -i -X POST \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-addresses \
  -H "Content-Type: application/json" -H "Accept: application/json" \
  -H "X-Auth-Token: ${Auth_Token}" \
  -d '{"notification_address": {"type": "EMAIL", "address": "joe@mail.com", "name": "Joe email"}}'
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsListAddress"> <title>4.4.5.2 List All Notification Addresses</title>
</section>
<section id="get-notification-addresses"> <title>GET /notification-addresses</title>
<p>Lists all notification addresses.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET /v1.1/notification-addresses HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>Common attributes described in <xref type="section" href="#topic89696/ServiceDetailsCreateAddress">4.4.5.1 Create a New Notification Address</xref>.</p>
<p>JSON</p>
<codeblock>
  <codeph>{
  "notification_addresses": [
    {
      "id": "ada28363-a4dc-4bda-85f4-fd37dea6f543",
      "links" : [
        {
          "rel": "self",
          "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-addresses/ada28363-a4dc-4bda-85f4-fd37dea6f543"
        }
      ],
      "type": "EMAIL",
      "state": "in-progress",
      "address": "joe@mail.com",
      "name": "Joe's email"
    },
    {
      "id": "d6f1f349-0832-492b-8117-32c81497eba0",
      "links" : [
        {
          "rel": "self",
          "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-addresses/d6f1f349-0832-492b-8117-32c81497eba0"
        }
      ],
      "type": "SMS",
      "state": "verified",
      "address": "+12063823454",
      "name": "Joe's SMS"
    }
  ]
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-addresses \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsSpecificAddress"> <title>4.4.5.3 Get a Specific Notification Address</title>
</section>
<section id="get-notification-addressesnotification-addresses-id"> <title>GET /notification-addresses/${notification_addresses_id}</title>
<p>Gets the details of a specific notification address identified by <codeph>${notification_addresses_id}</codeph>.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET /v1.1/notification-addresses/ HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>Common attributes described in <xref type="section" href="#topic89696/ServiceDetailsCreateAddress">4.4.5.1 Create a New Notification Address</xref>.</p>
<p>JSON</p>
<codeblock>
  <codeph>{
  "notification_address": {
    "id": "ada28363-a4dc-4bda-85f4-fd37dea6f543",
    "links" : [
      {
        "rel": "self",
        "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-addresses/ada28363-a4dc-4bda-85f4-fd37dea6f543"
      }
    ],
    "type": "EMAIL",
    "state": "verified",
    "address": "joe@mail.com",
    "name": "Joe's email"
  }
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">404</entry>
  <entry align="left">Not Found</entry>
  <entry align="left">Requested resource cannot be found.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace <codeph>${notification_addresses_id}</codeph> with the actual notification-addresses id.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-addresses/${notification_addresses_id} \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsDeleteAddress"> <title>4.4.5.4 Delete a Specific Notification Address</title>
</section>
<section id="delete-notification-addressesnotification-addresses-id"> <title>DELETE /notification-addresses/${notification_addresses_id}</title>
<p>Deletes a specific notification address identified by <codeph>${notification_addresses_id}</codeph>.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>DELETE /v1.1/notification-addresses/${notification_addresses_id} HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>204 - No Content</p>
<p>
  <b>Response Data</b>
</p>
<p>This call does not provide a response body.</p>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">404</entry>
  <entry align="left">Not Found</entry>
  <entry align="left">Requested resource cannot be found.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace <codeph>${notification_addresses_id}</codeph> with the actual notification-addresses id.</p>
<codeblock>
  <codeph>$ curl -i -X DELETE \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-addresses/${notification_addresses_id} \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsValidateAddress"> <title>4.4.5.6 Validate a Specific Notification Address</title>
</section>
<section id="post-notification-addressesvalidate"> <title>POST /notification-addresses/validate</title>
<p>Validate an address by passing the validation code sent by the monitoring service to the address as the result of a notification address request. Knowledge of the value of the validation code implies that the project has access to the address and is willing to accept notifications from the monitoring service.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>POST /v1.1/notification-addresses/validate HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
Content-Type: application/json
Accept: application/json
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">validation_code</entry>
  <entry align="left">string</entry>
  <entry align="left">The validation code delivered to the notification address as a result of a notification address request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>JSON</p>
<codeblock>
  <codeph>{
  "validation_code": "123456789"
}
</codeph>
</codeblock>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>204 - No Content</p>
<p>
  <b>Response Data</b>
</p>
<p>This call does not provide a response body.</p>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">404</entry>
  <entry align="left">Not Found</entry>
  <entry align="left">Requested resource cannot be found.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<codeblock>
  <codeph>$ curl -i -X POST \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/notification-addresses/validate \
  -H "Content-Type: application/json" -H "Accept: application/json" -d '{"validation_code": "1234567890"}'
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsAlarm"> <title>4.4.6 Alarm</title>
<p>The alarm resource identifies a particular metric scoped by namespace, metric type, and dimensions, which should trigger a set of actions when the value of the metric exceeds a threshold as determined by an expression. Alarm polling is done once every 60 seconds.</p>
<p>
<b>Note:</b> See <xref type="section" href="#topic89696/AlarmExpressions">Alarm Expressions</xref> for how to write the expression.</p>
<p>
  <b>State Lifecycle</b>
</p>
<table>
<tgroup cols="2">
<colspec colname="col1"/>
<colspec colname="col2"/>
<thead>
<row>
<entry align="left">State</entry>
  <entry align="left">Definition</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">UNDETERMINED</entry>
  <entry align="left">The state of the alarm cannot be determined. An alarm starts in this state and can re-enter this state if it doesn't receive metric values for a while</entry>
</row>
<row>
<entry align="left">OK</entry>
  <entry align="left">The threshold is not passed, no notification is sent</entry>
</row>
<row>
<entry align="left">ALARM</entry>
  <entry align="left">The threshold has been passed, a notification has been sent</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section id="ServiceDetailsCreateAlarm"> <title>4.4.6.1 Create a New Alarm</title>
</section>
<section id="post-alarms"> <title>POST /alarms</title>
<p>Creates a new alarm.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>POST /v1.1/alarms HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
Content-Type: application/json
Accept: application/json
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">name</entry>
  <entry align="left">string (250)</entry>
  <entry align="left">A descriptive name.</entry>
</row>
<row>
<entry align="left">expression</entry>
  <entry align="left">string</entry>
  <entry align="left">An expression, which if true, triggers a notification to be sent. See <xref type="section" href="#topic89696/AlarmExpressions">Alarm Expressions</xref> for how to write an expression.</entry>
</row>
<row>
<entry align="left">alarm_actions</entry>
  <entry align="left">array</entry>
  <entry align="left">Methods through which notifications (notification id) should be sent when transitioning to an ALARM state.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>JSON</p>
<codeblock>
  <codeph>{
  "alarm": {
    "name": "Disk exceeds 1k operations per measurement period",
    "expression": "avg(hpcs.compute{metric_name=disk_read_ops, device=vda, instance_id=31ff6820-7c86-11e2-b92a-0800200c9a66}) &gt;= 1000",
    "alarm_actions": [
      "036609b0-3d6b-11e2-a25f-0800200c9a66",
      "1221dba0-3d6b-11e2-a25f-0800200c9a66"
    ]
  }
}
</codeph>
</codeblock>
<p>
  <b>Success Response</b>
</p>
<codeblock>
  <codeph>HTTP/1.1 201 Created
Content-Type: application/json
Content-Length: 337
Location: /v1.1/alarms/${alarm_id}
</codeph>
</codeblock>
<p>
  <b>Status Code</b>
</p>
<p>201 - Created</p>
<p>
  <b>Response Data</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">id</entry>
  <entry align="left">string</entry>
  <entry align="left">Return value id of the call.</entry>
</row>
<row>
<entry align="left">rel</entry>
  <entry align="left">string</entry>
  <entry align="left">Relationship type.</entry>
</row>
<row>
<entry align="left">href</entry>
  <entry align="left">string</entry>
  <entry align="left">Hypermedia reference.</entry>
</row>
<row>
<entry align="left">name</entry>
  <entry align="left">string</entry>
  <entry align="left">A descriptive name.</entry>
</row>
<row>
<entry align="left">expression</entry>
  <entry align="left">string</entry>
  <entry align="left">An expression, which if true, triggers a notification to be sent. See <xref type="section" href="#topic89696/AlarmExpressions">Alarm Expressions</xref> for how to write an expression.</entry>
</row>
<row>
<entry align="left">state</entry>
  <entry align="left">string</entry>
  <entry align="left">The alarm state. See State Lifecycle above.</entry>
</row>
<row>
<entry align="left">alarm_actions</entry>
  <entry align="left">array</entry>
  <entry align="left">Methods through which notifications (notification id) should be sent when transitioning to an ALARM state.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>JSON</p>
<codeblock>
  <codeph>{
  "alarm": {
    "id": "eabe9e32-6ce0-4a36-9750-df415606b44c",
    "links": [
      {
        "rel": "self",
        "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/alarms/eabe9e32-6ce0-4a36-9750-df415606b44c"
      }
    ],
    "name": "Disk exceeds 1k operations per measurement period",
    "expression": "avg(hpcs.compute{metric_name=disk_read_ops, device=vda, instance_id=31ff6820-7c86-11e2-b92a-0800200c9a66}) &gt;= 1000",
    "state": "UNDETERMINED",
    "alarm_actions": [
      "036609b0-3d6b-11e2-a25f-0800200c9a66",
      "1221dba0-3d6b-11e2-a25f-0800200c9a66"
    ]
  }
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">409</entry>
  <entry align="left">Conflict</entry>
  <entry align="left">An Alarm for this combination of values already exists for this project.</entry>
</row>
<row>
<entry align="left">422</entry>
  <entry align="left">Unprocessable Entity</entry>
  <entry align="left">The metric json contained errors.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace the values for <codeph>name</codeph>, <codeph>expression</codeph>, <codeph>alarm_actions</codeph>.</p>
<codeblock>
  <codeph>$ curl -i -X POST \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/alarms \
  -H "Content-Type: application/json" -H "Accept: application/json" \
  -H "X-Auth-Token: ${Auth_Token}" \
  -d '{"alarm": {"name": "Disk exceeds 1k operations per measurement period", "expression": "avg(hpcs.compute{metric_name=disk_read_ops, device=vda, instance_id=31ff6820-7c86-11e2-b92a-0800200c9a66}) &gt;= 1000", "alarm_actions": ["036609b0-3d6b-11e2-a25f-0800200c9a66", "1221dba0-3d6b-11e2-a25f-0800200c9a66"]}}'
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsListAlarm"> <title>4.4.6.2 List All Alarms</title>
</section>
<section id="get-alarms"> <title>GET /alarms</title>
<p>Lists all alarms.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET /v1.1/alarms HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>Common attributes described in <xref type="section" href="#topic89696/ServiceDetailsCreateAlarm">4.4.6.1 Create a New Alarm</xref>.</p>
<p>JSON</p>
<codeblock>
  <codeph>{
  "alarms": [
    {
    "id": "eabe9e32-6ce0-4a36-9750-df415606b44c",
    "links": [
      {
        "rel": "self",
        "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/alarms/eabe9e32-6ce0-4a36-9750-df415606b44c"
      }
    ],
    "name": "Disk exceeds 1k operations per measurement period",
    "expression": "avg(hpcs.compute{metric_name=disk_read_ops, device=vda, instance_id=31ff6820-7c86-11e2-b92a-0800200c9a66}) &gt;= 1000",
    "state": "OK",
    }
  ]
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/alarms \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsSpecificAlarm"> <title>4.4.6.3 Get a Specific Alarm</title>
</section>
<section id="get-alarmsalarm-id"> <title>GET /alarms/${alarm_id}</title>
<p>Gets the details of a specific alarms identified by <codeph>${alarm_id}</codeph>.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET /v1.1/alarms/${alarm_id} HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>Common attributes described in <xref type="section" href="#topic89696/ServiceDetailsCreateAlarm">4.4.6.1 Create a New Alarm</xref>.</p>
<p>JSON</p>
<codeblock>
  <codeph>{
  "alarm": {
    "id": "eabe9e32-6ce0-4a36-9750-df415606b44c",
    "links": [
      {
        "rel": "self",
        "href": "https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/alarms/eabe9e32-6ce0-4a36-9750-df415606b44c"
      }
    ],
    "name": "Disk exceeds 1k operations per measurement period",
    "expression": "avg(hpcs.compute{metric_name=disk_read_ops, device=vda, instance_id=31ff6820-7c86-11e2-b92a-0800200c9a66}) &gt;= 1000",
    "state": "OK",
    "alarm_actions": [
      "036609b0-3d6b-11e2-a25f-0800200c9a66",
      "1221dba0-3d6b-11e2-a25f-0800200c9a66"
    ]
  }
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">404</entry>
  <entry align="left">Not Found</entry>
  <entry align="left">Requested resource cannot be found.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace <codeph>${alarm_id}</codeph> with the actual alarm id.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/alarms/${alarm_id} \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsDeleteAlarm"> <title>4.4.6.4 Delete a Specific Alarm</title>
</section>
<section id="delete-alarmsalarm-id"> <title>DELETE /alarms/${alarm_id}</title>
<p>Deletes a specific alarm identified by <codeph>${alarm_id}</codeph>.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>DELETE /v1.1/alarms/${alarm_id} HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>204 - No Content</p>
<p>
  <b>Response Data</b>
</p>
<p>This call does not provide a response body.</p>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">404</entry>
  <entry align="left">Not Found</entry>
  <entry align="left">Requested resource cannot be found.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace <codeph>${alarm_id}</codeph> with the actual alarm id.</p>
<codeblock>
  <codeph>$ curl -i -X DELETE \ 
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/alarms/${alarm_id} \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsMetrics"> <title>4.4.7 Metrics</title>
<p>The metrics resource allows the insertion of user defined metrics.</p>
</section>
<section id="ServiceDetailsCreateMetric"> <title>4.4.7.1 Create a New Metric</title>
</section>
<section id="post-metrics"> <title>POST /metrics</title>
<p>Creates a new metric.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>POST /v1.1/metrics HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
Content-Type: application/json
Accept: application/json
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">namespace</entry>
  <entry align="left">string (64)</entry>
  <entry align="left">User defined namespace (cannot conflict with a reserved namespace). See <xref type="section" href="#topic89696/Namespaces">Namespaces</xref>.</entry>
</row>
<row>
<entry align="left">dimensions</entry>
  <entry align="left">dictionary</entry>
  <entry align="left">(Optional) The dimensions of metrics to receive (each dimension type can only be used once in this call). User defined metrics do not require dimensions. See <xref type="section" href="#topic89696/Namespaces">Dimensions</xref>.</entry>
</row>
<row>
<entry align="left">timestamp</entry>
  <entry align="left">integer (long)</entry>
  <entry align="left">(Optional) Unix format timestamp for the message. This must be within 2 minutes into the future or 2 weeks into the past of the current UTC time. If not included, the current UTC time is inserted.</entry>
</row>
<row>
<entry align="left">value</entry>
  <entry align="left">double</entry>
  <entry align="left">Metric value. Must be between 8.515920e-109 and 1.174271e+108 or zero.</entry>
</row>
<row>
<entry align="left">time_values</entry>
  <entry align="left">[ [ long, double ] ]</entry>
  <entry align="left">Use instead of the value field to give a list of timestamp / value pairs.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>JSON</p>
<p>The HP Helion Metrics JSON format is used for publishing new user defined metrics and for receiving all metrics from a subscription.</p>
<p>
  <b>
    <i>Scalar Metric</i>
  </b>
</p>
<codeblock>
  <codeph>{
    "namespace": "user_namespace"
    "dimensions": {
      "metric_name": "user_metric",
      "instance_id": "31ff6820-7c86-11e2-b92a-0800200c9a66"
    },
    "timestamp": 123123123,
    "value": 123.0
}
</codeph>
</codeblock>
<p>
  <b>
    <i>Vector Metric</i>
  </b>
</p>
<codeblock>
  <codeph>{
    "namespace": "user_namespace"
    "dimensions": {
      "metric_name": "user_metric",
      "instance_id": "31ff6820-7c86-11e2-b92a-0800200c9a66"
    },
    "timestamp": 123123123,
    "time_values": [
      [1366128488, 123.0], [1366128504, 0.0], [1366128494, 234.0]
    ]
}       
</codeph>
</codeblock>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>204 - No Content</p>
<p>
  <b>Response Data</b>
</p>
<p>This call does not provide a response body.</p>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">409</entry>
  <entry align="left">Conflict</entry>
  <entry align="left">The namespace name conflicts with a reserved namespace.</entry>
</row>
<row>
<entry align="left">422</entry>
  <entry align="left">Unprocessable Entity</entry>
  <entry align="left">The metric json contained errors.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace '${Auth_Token}' with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace the values for 'namespace', 'type', 'dimensions', 'timestamp'.</p>
<codeblock>
  <codeph>$ curl -i -X POST \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/metrics \
  -H "Content-Type: application/json" -H "Accept: application/json" \
  -H "X-Auth-Token: ${Auth_Token}" \
  -d '{"namespace": "user_namespace", "dimensions": {"metric_name": "user_metric", instance_id": "31ff6820-7c86-11e2-b92a-0800200c9a66"}, "timestamp": 123123123, "value": 123}'
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsCreateMetrics"> <title>4.4.7.2 Create New Aggregated Metrics</title>
</section>
<section id="post-metricsaggregate"> <title>POST /metrics/aggregate</title>
<p>Creates several new metrics with one call. Vector aggregate metrics can also be created.</p>
<p>
<b>Note:</b> Aggregate metrics are split into scalar metrics internally.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>POST /v1.1/metrics/aggregate HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
Content-Type: application/json
Accept: application/json
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>Common attributes described in <xref type="section" href="#topic89696/ServiceDetailsCreateMetric">4.4.7.1 Create a New Metric</xref>.</p>
<p>JSON</p>
<p>The HP Helion Metrics JSON format is used for publishing new user defined metrics and for receiving all metrics from a subscription.</p>
<p>
  <b>
    <i>Scalar Aggregate Metric</i>
  </b>
</p>
<codeblock>
  <codeph>[
    {
        "namespace": "user_namespace",
        "dimensions": {
          "metric_name": "user_metric",
          "instance_id": "31ff6820-7c86-11e2-b92a-0800200c9a66"
        },
        "timestamp": 123123123,
        "value": 123.0
    },
    {
        "namespace": "user_namespace",
        "dimensions": {
          "metric_name": "user_metric2",
          "instance_id": "423f6820-7c86-11e2-b92a-0800200c9bb7"
        },
        "timestamp": 123123123,
        "value": 127.0
    }
]
</codeph>
</codeblock>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>204 - No Content</p>
<p>
  <b>Response Data</b>
</p>
<p>This call does not provide a response body.</p>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">409</entry>
  <entry align="left">Conflict</entry>
  <entry align="left">The namespace name conflicts with a reserved namespace.</entry>
</row>
<row>
<entry align="left">422</entry>
  <entry align="left">Unprocessable Entity</entry>
  <entry align="left">The metric json contained errors.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace the values for <codeph>namespace</codeph>, <codeph>type</codeph>, <codeph>dimensions</codeph>, <codeph>timestamp</codeph>.</p>
<codeblock>
  <codeph>$ curl -i -X POST \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/metrics \
  -H "Content-Type: application/json" -H "Accept: application/json" \
  -H "X-Auth-Token: ${Auth_Token}" \
  -d '[{"namespace": "user_namespace", "dimensions": {"metric_name": "user_metric", instance_id": "31ff6820-7c86-11e2-b92a-0800200c9a66"}, "timestamp": 123123123, "value": 123},{"namespace": "user_namespace", "dimensions": {"metric_name": "user_metric2", instance_id": "423f6820-7c86-11e2-b92a-0800200c9bb7"}, "timestamp": 123123123, "value": 127}'
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsGetMetrics"> <title>4.4.7.3 Get metric datapoints</title>
</section>
<section id="get-metrics"> <title>GET /metrics</title>
<p>Gets a set of metric datapoints for a time range. Datapoints are aggregated by statistic for individual time periods over a broader time range.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET /v1.1/metrics?${query_parameters} HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<table>
<tgroup cols="7">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<colspec colname="col4"/>
<colspec colname="col5"/>
<colspec colname="col6"/>
<colspec colname="col7"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Required</entry>
  <entry align="left">Type</entry>
  <entry align="left">Default Value</entry>
  <entry align="left">Valid Values</entry>
  <entry align="left">Example Value</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">namespace</entry>
  <entry align="left">Y</entry>
  <entry align="left">string</entry>
  <entry align="left"/>
  <entry align="left"/>
  <entry align="left">user_namespace</entry>
  <entry align="left">The namespace to get metric datapoints by.</entry>
</row>
<row>
<entry align="left">dimensions</entry>
  <entry align="left">Y</entry>
  <entry align="left">comma separated key/value pairs</entry>
  <entry align="left"/>
  <entry align="left"/>
  <entry align="left">metric_name:user_metric,instance_id:392633</entry>
  <entry align="left">The dimensions to get metric datapoints by.</entry>
</row>
<row>
<entry align="left">statistics</entry>
  <entry align="left">Y</entry>
  <entry align="left">comma separated statistics</entry>
  <entry align="left"/>
  <entry align="left">avg, sum, min, max, count</entry>
  <entry align="left">avg,sum</entry>
  <entry align="left">The statistics to aggregate datapoints by.</entry>
</row>
<row>
<entry align="left">start_time</entry>
  <entry align="left">Y</entry>
  <entry align="left">ISO 8601 date/time</entry>
  <entry align="left"/>
  <entry align="left"/>
  <entry align="left">2013-11-01T12:00Z</entry>
  <entry align="left">The start time to query metric datapoint by.</entry>
</row>
<row>
<entry align="left">end_time</entry>
  <entry align="left">N</entry>
  <entry align="left">ISO 8601 date/time</entry>
  <entry align="left">Current time</entry>
  <entry align="left"/>
  <entry align="left">2013-11-02T12:00Z</entry>
  <entry align="left">The end time to query metric datapoints by.</entry>
</row>
<row>
<entry align="left">period</entry>
  <entry align="left">N</entry>
  <entry align="left">seconds</entry>
  <entry align="left">300</entry>
  <entry align="left"/>
  <entry align="left">600</entry>
  <entry align="left">The time period to aggregate datapoints by.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>JSON</p>
<codeblock>
  <codeph>[
   {
     "dimensions": {
       "metric_name": "user_metric",
       "instance_id": "31ff6820-7c86-11e2-b92a-0800200c9a66"
     },
     "datapoints": {
       "timestamp": [13543534, 13543594, 13543654],
       "avg": [12, 13, 14],
       "min": [2, 3, 4],
       "max": [20, 21, 22]
      }
   }
]
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">401</entry>
  <entry align="left">Unauthorized</entry>
  <entry align="left">The caller does not have the privilege required to perform the operation.</entry>
</row>
<row>
<entry align="left">403</entry>
  <entry align="left">Forbidden</entry>
  <entry align="left">Disabled or suspended user making the request or requested operation is forbidden.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Replace the query section with your specific query. Keep in mind that the command line may interpret '&amp;' or '?' as a shell operation, so you'll likely need to use single quotes around that section.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  'https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/metrics?namespace=user_namespace&amp;dimensions=metric_name:user_metric,instance_id:31ff6820-7c86-11e2-b92a-0800200c9a66&amp;statistics=avg&amp;start_time=2013-11-01T12:00Z&amp;end_time=2013-11-02T12:00Z&amp;period=300' \
  -H "X-Auth-Token: ${Auth_Token}" 
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsVersion2"> <title>4.4.8 Metering</title>
<p>Changes settings for support and billing. Premium support gives access to a higher resolution data rate.</p>
</section>
<section id="ServiceDetailsSetMonitoringLevel"> <title>4.4.8.1 Set the Monitoring Level</title>
</section>
<section id="post-metering"> <title>POST /metering</title>
<p>Set the Monitoring Level to either "basic" or "premium"; basic is assumed if nothing is set.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>POST /v1.1/metering?${setting}=${value} HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Attributes</entry>
  <entry align="left">Type</entry>
  <entry align="left">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">setting</entry>
  <entry align="left">string</entry>
  <entry align="left">Currently only "monitoring_level"</entry>
</row>
<row>
<entry align="left">value</entry>
  <entry align="left">string</entry>
  <entry align="left">Either "basic" or "premium"</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>JSON</p>
<codeblock>
  <codeph>{  
  "setting": "monitoring_level",
  "value": "basic"
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>. Keep in mind that the command line may interpret '?' as a shell operation, so you'll likely need to use single quotes around that section.</p>
<codeblock>
  <codeph>$ curl -i -X POST \
  'https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/metering?monitoring_level=premium' \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
<section id="ServiceDetailsGetMonitoringLevel"> <title>4.4.8.2 Get the Monitoring Level</title>
</section>
<section id="get-metering"> <title>GET /metering</title>
<p>Get the Monitoring Level; basic monitoring level is assumed if nothing is explicitly set.</p>
<p>
  <b>Request Data</b>
</p>
<codeblock>
  <codeph>GET /v1.1/metering HTTP/1.1
Host: https://region-a.geo-1.monitoring.hpcloudsvc.com
X-Auth-Token: ${Auth_Token}
</codeph>
</codeblock>
<p>
  <b>Data Parameters</b>
</p>
<p>This call does not require a request body.</p>
<p>
  <b>Success Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<p>200 - OK</p>
<p>
  <b>Response Data</b>
</p>
<p>Common attributes described in <xref type="section" href="#topic89696/ServiceDetailsSetMonitoringLevel">4.4.8.1 Create a New Metric</xref>.</p>
<p>JSON</p>
<codeblock>
  <codeph>{  
  "setting": "monitoring_level",
  "value": "basic"
}
</codeph>
</codeblock>
<p>
  <b>Error Response</b>
</p>
<p>
  <b>Status Code</b>
</p>
<table>
<tgroup cols="3">
<colspec colname="col1"/>
<colspec colname="col2"/>
<colspec colname="col3"/>
<thead>
<row>
<entry align="left">Status Code</entry>
  <entry align="left">Description</entry>
  <entry align="left">Reasons</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left">400</entry>
  <entry align="left">Bad Request</entry>
  <entry align="left">Malformed request in URI or request body.</entry>
</row>
<row>
<entry align="left">500</entry>
  <entry align="left">Server Error</entry>
  <entry align="left">The server encountered a problem while processing the request.</entry>
</row>
</tbody>
</tgroup>
</table>
<p>
  <b>Curl Example</b>
</p>
<p>Replace <codeph>${Auth_Token}</codeph> with the token returned from section <xref type="section" href="#topic89696/Accounts">Accounts</xref>.</p>
<codeblock>
  <codeph>$ curl -i -X GET \
  https://region-a.geo-1.monitoring.hpcloudsvc.com/v1.1/metering \
  -H "X-Auth-Token: ${Auth_Token}"
</codeph>
</codeblock>
</section>
</body>
</topic>