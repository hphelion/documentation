<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" ><topic xml:lang="en-us" id="topic9303">
<title>HP Helion <tm tmtype="reg">Openstack</tm> Carrier Grade (Beta): User Tasks</title>
<prolog>
<metadata>
<othermeta name="layout" content="default"/>
<othermeta name="product-version" content="HP Helion <tm tmtype="reg">Openstack</tm>"/>
<othermeta name="product-version" content="HP Helion <tm tmtype="reg">Openstack</tm> 1.1"/>
<othermeta name="role" content="All"/>
<othermeta name="role" content="Paul F"/>
<othermeta name="product-version1" content="HP Helion <tm tmtype="reg">Openstack</tm>"/>
<othermeta name="product-version2" content="HP Helion <tm tmtype="reg">Openstack</tm> 1.1"/>
</metadata>
</prolog>
<body>
<p>
<!--UNDER REVISION-->
 <!--./CarrierGrade/DeploymentScenarios/carrier-grade-deployment-setting-user.md-->
 <!--permalink: /helion/openstack/carrier/deploy/setting/user/--></p>
<p>Some of the resources in the Deployment Scenarios must be configured by end users user1 and user2.</p>
<!-- ===================== horizontal rule ===================== -->
<p>
<b>Note:</b> This feature applies only to servers in the VNF Region.</p>
<!-- ===================== horizontal rule ===================== -->
<p>To complete the Deployment Scenarios configuration, you must perform the tasks in this section while logged in as <codeph>user1</codeph>, and then perform the same tasks while logged in as <codeph>user2</codeph>, substituting appropriate strings for keypairs, networks, subnets, or other resources.</p>
<p>To configure these resources, you must be logged in as admin. Only the admin user can create tenants and end users, set up provider networks, add tenant networks to specific provider networks and segmentation ranges, and define flavors.</p>
<section id="values"> <title>Values for the user tasks</title>
<p>The following table summarizes the tasks to be performed, the resource names to be supplied, and suggested strings for each user. In the instructions for each task, the strings for <codeph>user1</codeph> are used as a convenience.</p>
<table>
<tgroup cols="4">
          <colspec colname="col1" colsep="1" rowsep="1"/>
          <colspec colname="col2" colsep="1" rowsep="1"/>
          <colspec colname="col3" colsep="1" rowsep="1"/>
          <colspec colname="col4" colsep="1" rowsep="1"/>
          <thead>
            <row>
              <entry>Task</entry>
              <entry>Resource Name</entry>
              <entry>String for user1</entry>
              <entry>String for user2</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>Adding a Keypair</entry>
              <entry>KeyPair Name </entry>
              <entry>tenant1-controller-0</entry>
              <entry>tenant2-controller-0</entry>
            </row>
            <row>
              <entry/>
              <entry>Network Name</entry>
              <entry>tenant1-net</entry>
              <entry>tenant2-net</entry>
            </row>
            <row>
              <entry/>
              <entry>Subnet Name</entry>
              <entry>tenant1-subnet</entry>
              <entry>tenant2-subnet</entry>
            </row>
            <row>
              <entry>Adding a Tenant Network</entry>
              <entry>Network Address</entry>
              <entry> 172.31.1.0/24</entry>
              <entry>172.31.2.0/24</entry>
            </row>
            <row>
              <entry>Setting Up the Management Network</entry>
              <entry>Subnet Name</entry>
              <entry>tenant1-mgmt-net</entry>
              <entry>tenant2-mgmt-net</entry>
            </row>
            <row>
              <entry/>
              <entry>Network Address</entry>
              <entry>192.168.102.0/24</entry>
              <entry>192.168.202.0/24</entry>
            </row>
            <row>
              <entry>Adding a Virtual Router</entry>
              <entry>Router Name</entry>
              <entry>tenant1-router</entry>
              <entry>tenant2-router</entry>
              <entry>Creating a Volume</entry>
              <entry> </entry>
              <entry>Volume Name</entry>
              <entry>vol-example-guest</entry>
              <entry>vol-example-guest</entry>
            </row>
          </tbody>
        </tgroup>
</table>
<p>When both users have completed the tasks, the test path can be exercised.</p>
<p>This topic contains the following sections:</p>
<ul>
<li>
<xref type="section" href="#topic9303/key">Adding a Keypair</xref>
</li>
<li>
<xref type="section" href="#topic9303/tenant">Adding a Tenant Network</xref>
</li>
<li>
<xref type="section" href="#topic9303/mgmt">Setting Up the Management Network</xref>
</li>
<li>
<xref type="section" href="#topic9303/router">Adding a Virtual Router</xref>
</li>
<li>
<xref type="section" href="#topic9303/volume">Creating a Volume</xref>
</li>
</ul>
</section>
<section id="key"> <title>Adding a Keypair</title>
<p>Keypairs provide for secure login to guest images.</p>
<p>This exercise injects a keypair into the Nova database with the name tenant1-controller-0. This named keypair can be used to provide automatically authenticated SSH access to the virtual machines. You can use other available keypairs, or create new ones, as required.</p>
<p>
<b>Note:</b> For the scenarios, SSH access is not required, and the keypairs are not used.</p>
<p>To add a keypairs follow the directions below. For additional information, you can see <xref href="../../CarrierGrade/AdminGuideNew/Security/carrier-grade.dashboard.security.keypairs.dita" >Managing Key Pairs</xref>.</p>
<ol>
<li>
          <xref
            href="../../CarrierGrade/AdminGuideNew/Dashboard/carrier-grade.dashboard.launch.dita"
            >Launch the HP Helion <tm tmtype="reg">Openstack</tm> Horizon Dashboard</xref>.</li>
<li>Click the <b>Project</b> dashboard, then the <b>Manage Compute</b> panel, then the <b>Access
            &amp; Security</b> link.<p>The Access &amp; Security page is displayed with four tabs,
              <b>Security Groups</b>, <b>Key Pairs</b>, <b>Floating IPs</b>, and <b>API Access</b>.
            By default, <b>Security Groups</b> is the active tab.</p></li>
<li>Click the <b>Key Pairs</b> tab to activate it.<p>The list of Keypairs is displayed in a
            table.</p></li>
<li>Click <b>Create Key Pair</b>.</li>
<li>In the <b>Create Key Pair Name</b> box, enter <codeph>tenant1-controller-0</codeph> for the name
          of the key pair.</li>
<li>Click <b>Create Key Pair</b>.<p>The private key of the key pair is downloaded to your local
            system, either automatically or a dialog box prompts you to download the
          keypair.</p></li>
<li>Click on the download link to have a local copy of the authentication keypair. You use it as you
          would use any keypair for SSH authentication between two workstations.<ul>
            <li>Transfer the keypair to the workstation you plan to use to access the virtual
              machine over SSH.</li>
            <li>Copy the public key to the virtual machine. You can use the command ssh-copy-id from
              a Linux workstation, or transfer the public key using a command such as scp.</li>
          </ul><p>Consult the openly available documentation on SSH for details.</p></li>
<li>Click Save to place the private key on your local system.</li>
<li>To complete the deployment scenarios, this task must be repeated as user2, using appropriate
          names as described in <xref type="section" href="#topic9303/values">the values
            table</xref>.</li>
</ol>
</section>
<section id="tenant"> <title>Adding a Tenant Network</title>
<p>This exercise sets up the private network for the project (tenant network) named <codeph>tenant1-net</codeph> and configures its IP subnet.</p>
<p>A tenant network added by an end user is automatically assigned to a provider network, using a segmentation range
available to the user.</p>
<p>To create and configure the tenant network <codeph>tenant1-net</codeph> follow the directions below. For additional information, you can see <xref href="../../CarrierGrade/AdminGuideNew/Networks/carrier-grade.dashboard.network.create.dita" >Create or delete a tenant network</xref>.</p>
<ol>
<li>Select the Subnet tab to create the IP subnet <codeph>tenant1-subnet</codeph>.<p>
            <b>Note:</b> A subnet is created on tenant1-net to make the VM reachable from the
            networks used by the test equipment.</p><p>Fill in the fields as shown:</p><p>a. Enter
              <codeph>tenant1-subnet</codeph> in the <b>Name</b> field.</p><p>b. For user1, enter
            the subnet 172.31.1.0/24 in the <b>Network Address</b> field, as described in <xref
              href="../../CarrierGrade/DeploymentScenarios/carrier-grade-deployment-setting-components.dita"
              >Components of the Scenario Environment</xref>.</p><p>c. Select IPv4 for the IP
            version.</p><p>d. Leave the <b>Gateway Address</b> field blank.</p><p>e. Click
              <b>Create</b> to commit the changes.</p><p>The private tenant network is set up and
            ready to be used.</p></li>
<li>To complete the deployment scenarios, this task must be repeated as user2, using appropriate
          names as described in <xref type="section" href="#topic9303/values">the values
            table</xref>.</li>
</ol>
</section>
<section id="mgmt"> <title>Setting Up the Management Network</title>
<p>This exercise configures the IP subnet of the tenant management network <codeph>tenant1-mgmt-net</codeph>.</p>
<p>To modify the management network <codeph>tenant1-mgmt-net</codeph>follow the directions below. For additional information, you can see <xref href="../../CarrierGrade/AdminGuideNew/Networks/carrier-grade.dashboard.network.create.dita" >Creating or Deleting Networks</xref>.</p>
<ol>
<li>Click the <b>Project</b> dashboard, then the <b>System</b> panel, then the <b>Networks</b>
            link.<p>The network(s) for the selected project appear.</p></li>
<li>Click the <b>tenant1-mgmt-net</b> link.</li>
<li>Click <b>Create Subnet</b> to open the <b>Subnet</b> tab. Fill in the fields as shown:<p>a.
            Enter <codeph>tenant1-mgmt-subnet</codeph> in the <b>Name</b> field.</p><p>b. For user1,
            enter the subnet 192.168.102.0/24 in the <b>Network Address</b> field, as described in
              <xref
              href="../../CarrierGrade/DeploymentScenarios/carrier-grade-deployment-setting-components.dita"
              >Components of the Scenario Environment</xref>.</p><p>c. Select IPv4 for the IP
            version.</p><p>d. Leave the <b>Gateway Address</b> field blank. If you do not provide a
            Gateway address, the default 192.168.102.1 is used.</p><p>e. Click <b>Create</b> to
            commit the changes.</p><p>f. Click Create to commit the changes.</p></li>
<li>To complete the deployment scenarios, this task must be repeated as user2, using appropriate
          names as described in <xref type="section" href="#topic9303/values">the values
            table</xref>.</li>
</ol>
</section>
<section id="router"> <title>Adding a Virtual Router</title>
<p>A virtual router is required on each user tenant to connect VMs to an external network, and to internal resources on the compute nodes.</p>
<p>The deployment scenarios require an <tm tmtype="reg">Openstack</tm> virtual router on each user tenant. The virtual router connects the VMs to a metadata server (nova-api) implemented on one of the compute nodes. The metadata server provides the user data when a VM instance is launched. A route to the metadata server is established automatically when the router is created.</p>
<p>To create the router <codeph>tenant1-router</codeph> follow the directions below. For additional information, you can see <xref href="../../CarrierGrade/AdminGuideNew/Routers/carrier-grade.dashboard.router.create.dita" >Creating a Router</xref>.</p>
<ol>
<li>
          <xref
            href="../../CarrierGrade/AdminGuideNew/Dashboard/carrier-grade.dashboard.launch.dita"
            >Launch the HP Helion <tm tmtype="reg">Openstack</tm> Horizon Dashboard</xref>.</li>
<li>Click the <b>Project</b> dashboard, then the <b>System</b> panel, then the <b>Routers</b>
            link.<p>The routers for the selected project appear.</p></li>
<li>Click <b>Create Router</b> to open the <b>Create router</b> tab.<p>a. Enter
              <b>tenant1-router</b> in the <b>Router Name</b> field.</p><p>b. Click <b>Create
              Router</b>.</p></li>
<li>On the <b>Routers</b> page, click the name of the router to display the <b>Router Overview</b>
          page.</li>
<li>Click <b>Add Interface</b> and fill in the fields as shown:<p>a. Select <b>tenant1-mgmt-net</b>
            from the <b>Subnet</b> list.</p><p>b. Leave the IP address blank.</p><p>c. Click <b>Add
              Interface</b>.</p><p>The new router interface is active.</p></li>
<li>Set up the gateway information.<p>a. Click <b>Set Gateway</b> for the router to open the <b>Set
              Gateway</b> screen.</p><p>b. Select <b>external-net</b> from the <b>External
              Network</b> list.</p><p>c. Click <b>Set Gateway</b>.</p><p>The gateway interface is
            configured.</p></li>
<li>Optionally name the network ports for easier reference.<p>a. Click the <b>Project</b> dashboard,
            then the <b>System</b> panel, then the <b>Networks</b> link.</p><p>b. On the
              <b>Networks</b> page, click the link to the <codeph>tenant1-mgmt-net</codeph>
            network.</p></li>
<li>Edit the name of the router port.<p>a. For the router port, click <b>Edit Port</b> to open the
            Edit Port screen.</p><p>b. Enter the desired name for the port.</p><p>c. Click <b>Save
              Changes</b> to commit the name change.</p><p>The router port is listed with the new
            name.</p></li>
<li>To complete the deployment scenarios, this task must be repeated as user2, using appropriate
          names as described in <xref type="section" href="#topic9303/values">the values
            table</xref>.</li>
</ol>
</section>
<section id="volume"> <title>Creating a Volume</title>
<p>Before you can use an image, you must create a volume for the image.</p>
<p>To create the volume <codeph>vol-example-guest</codeph> follow the directions below. For additional information, you can see <xref href="../../CarrierGrade/AdminGuideNew/Volumes/carrier-grade.dashboard.volume.create.dita" >Creating, Editing, and Deleting Volumes</xref>.</p>
<ol>
<li>
          <xref
            href="../../CarrierGrade/AdminGuideNew/Dashboard/carrier-grade.dashboard.launch.dita"
            >Launch the HP Helion <tm tmtype="reg">Openstack</tm> Horizon Dashboard</xref>.</li>
<li>Click the <b>Project</b> dashboard, then the <b>System</b> panel, then the <b>Volumes</b>
          link.</li>
<li>Click <b>Create Volume</b>.</li>
<li>In the <b>Create Volume</b> dialog box, fill in the fields as shown:<p>a. Enter
              <b>vol-example-guest</b> in the <b>Volume Name</b> field.</p><p>b. Optionally, enter a
            description.</p><p>c. Leave the <b>Type</b> field blank.</p><p>d. Enter <b>1</b> for
            Size (GB).</p><p>e. Select Image from the <b>Volume Source</b> list.</p><p>f. Select
              <b>example-guest (411.0 MB)</b> from the <b>Use image as source</b> list.</p><p>g.
            Click <b>Create Volume</b>.</p></li>
<li>To complete the deployment scenarios, this task must be repeated as user2, using appropriate
          names as described in <xref type="section" href="#topic9303/values">the values
            table</xref>.</li>
</ol>
<p>
  <xref type="section" href="#topic9303"> Return to Top </xref>
</p>
<!-- ===================== horizontal rule ===================== -->
</section>
</body>
</topic>
