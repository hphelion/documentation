<?xml version="1.0" encoding="UTF-8"?><?workdir /C:\Drop3and4\Drop4\temp\pdf\oxygen_dita_temp?><?workdir-uri file:/C:/Drop3and4/Drop4/temp/pdf/oxygen_dita_temp/?><?path2project?><?path2project-uri ./?><referable-content xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="jow1423853504951" xml:lang="en-us" ditaarch:DITAArchVersion="1.2" domains="(topic concept)                            (topic concept glossentry)                            (topic concept glossgroup)                            (topic reference)                            (topic task)                            (topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)                             (topic task strictTaskbody-c)                             a(loc  ixia_locid)                            (topic strictPara-c)                            (topic strictSection-c)                            (topic wr-sw-d)                            (topic xml-d)   " class="- topic/topic referable-content/referable-content ">
<title ixia_locid="253" class="- topic/title ">Conref task: Configuring Provider Networks Using the CLI (for TiS 15.x)</title>
<rcbody class="- topic/body referable-content/body ">
        <title id="title_N10011_N1000E_N10001" ixia_locid="1" class="- topic/title ">Configuring Provider Networks Using the CLI</title>
        <shortdesc id="shortdesc_N10017_N1000E_N10001" ixia_locid="2" class="- topic/shortdesc ">You can set up provider
            networks over physical networks using the  command-line interface on the active
            controller. The provider networks provide connectivity for tenant networks.</shortdesc>
        <prolog id="prolog_N10022_N1000E_N10001" class="- topic/prolog ">
            <author ixia_locid="4" class="- topic/author ">Jim Owens</author>
            <author ixia_locid="5" class="- topic/author ">Tom Towle</author>
            <author ixia_locid="6" class="- topic/author ">Pedro Sanchez</author>
        </prolog>
        <taskbody id="taskbody_N10036_N1000E_N10001" class="- topic/body task/taskbody ">
            <context id="context_N1003B_N10037_N1000F_N10001" ixia_locid="375" class="- topic/section task/context ">
                <p ixia_locid="289" class="- topic/p ">To create a provider network using the CLI, use the following
                    command:</p>
                <codeblock ixia_locid="290" class="+ topic/pre pr-d/codeblock "><systemoutput ixia_locid="291" class="+ topic/ph sw-d/systemoutput ">~(keystone_admin)$ </systemoutput><userinput ixia_locid="292" class="+ topic/ph sw-d/userinput ">neutron providernet-create name \
--type=<varname ixia_locid="365" class="+ topic/keyword sw-d/varname ">type --description=<varname ixia_locid="293" class="+ topic/keyword sw-d/varname ">description mtu <varname ixia_locid="357" class="+ topic/keyword sw-d/varname ">mtu_size \
--vlan-transparent={True,False}</userinput></codeblock>
                <p ixia_locid="294" class="- topic/p ">where</p>
                <parml class="+ topic/dl pr-d/parml ">
                    <plentry ixia_locid="295" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="296" class="+ topic/dt pr-d/pt ">name</pt>
                        <pd ixia_locid="297" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="298" class="- topic/p ">is a name for the provider network</p>
                        </pd>
                    </plentry>
                    <plentry ixia_locid="366" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="367" class="+ topic/dt pr-d/pt ">type</pt>
                        <pd ixia_locid="368" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="369" class="- topic/p ">is the type of provider network (<nameliteral ixia_locid="370" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">flat</nameliteral>, <nameliteral ixia_locid="371" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">vlan</nameliteral>, or <nameliteral ixia_locid="372" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">vxlan</nameliteral>)</p>
                        </pd>
                    </plentry>
                    <plentry ixia_locid="299" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="300" class="+ topic/dt pr-d/pt ">description</pt>
                        <pd ixia_locid="301" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="302" class="- topic/p ">is a brief description for reference purposes</p>
                        </pd>
                    </plentry>
                    <plentry ixia_locid="303" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="304" class="+ topic/dt pr-d/pt ">mtu_size</pt>
                        <pd ixia_locid="305" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="358" class="- topic/p ">is the maximum transmission unit size</p>
                        </pd>
                    </plentry>
                </parml>
            </context>
            <context id="context_N100C3_N10032_N1000F_N10001" ixia_locid="403" class="- topic/section task/context ">
                <p ixia_locid="306" class="- topic/p ">To add a segmentation range using the CLI, use the following
                    command:</p>
                <codeblock ixia_locid="307" class="+ topic/pre pr-d/codeblock "><systemoutput ixia_locid="308" class="+ topic/ph sw-d/systemoutput ">~(keystone_admin)$ </systemoutput><userinput ixia_locid="309" class="+ topic/ph sw-d/userinput ">neutron providernet-range-create <varname ixia_locid="310" class="+ topic/keyword sw-d/varname ">provider_network \
--name=<varname ixia_locid="311" class="+ topic/keyword sw-d/varname ">range_name --tenant_id=<varname ixia_locid="312" class="+ topic/keyword sw-d/varname ">tenant \
--description=<varname ixia_locid="313" class="+ topic/keyword sw-d/varname ">description --range <varname ixia_locid="314" class="+ topic/keyword sw-d/varname ">min-<varname ixia_locid="315" class="+ topic/keyword sw-d/varname ">max \
--group <varname ixia_locid="316" class="+ topic/keyword sw-d/varname ">multicast_address --port=<varname ixia_locid="317" class="+ topic/keyword sw-d/varname ">udp_port \
--ttl=<varname ixia_locid="318" class="+ topic/keyword sw-d/varname ">time_to_live</userinput></codeblock>
                <p ixia_locid="319" class="- topic/p ">where</p>
                <parml class="+ topic/dl pr-d/parml ">
                    <plentry ixia_locid="320" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="321" class="+ topic/dt pr-d/pt ">provider_network</pt>
                        <pd ixia_locid="322" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="323" class="- topic/p ">is the name of the associated provider network</p>
                        </pd>
                    </plentry>
                    <plentry ixia_locid="324" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="325" class="+ topic/dt pr-d/pt ">name</pt>
                        <pd ixia_locid="326" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="327" class="- topic/p ">is a name for the segmentation range</p>
                        </pd>
                    </plentry>
                    <plentry ixia_locid="328" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="329" class="+ topic/dt pr-d/pt ">tenant</pt>
                        <pd ixia_locid="330" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="331" class="- topic/p ">is the name or UUID of the tenant associated with
                                the range</p>
                        </pd>
                    </plentry>
                    <plentry ixia_locid="332" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="333" class="+ topic/dt pr-d/pt ">description</pt>
                        <pd ixia_locid="334" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="335" class="- topic/p ">is a brief description for reference purposes</p>
                        </pd>
                    </plentry>
                    <plentry ixia_locid="336" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="337" class="+ topic/dt pr-d/pt ">min</pt>
                        <pd ixia_locid="338" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="339" class="- topic/p ">is the lowest value in the range</p>
                        </pd>
                    </plentry>
                    <plentry ixia_locid="340" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="341" class="+ topic/dt pr-d/pt ">max</pt>
                        <pd ixia_locid="342" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="343" class="- topic/p ">is the highest value in the range</p>
                        </pd>
                    </plentry>
                    <plentry ixia_locid="406" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="407" class="+ topic/dt pr-d/pt ">vlan-transparent</pt>
                        <pd ixia_locid="408" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="409" class="- topic/p ">Allow VLAN tagged packets to be encapsulated within
                                a VXLAN segment without removing or modifying the guest VLAN
                                tag.</p>
                        </pd>
                    </plentry>
                </parml>
                <p ixia_locid="410" class="- topic/p ">The following additional values are used for segmentation ranges
                    on VxLAN provider networks:</p>
                <parml class="+ topic/dl pr-d/parml ">
                    <plentry ixia_locid="344" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="345" class="+ topic/dt pr-d/pt ">multicast_address</pt>
                        <pd ixia_locid="346" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="386" class="- topic/p ">The IPv4 or IPv6 address for participation in a
                                multicast group used to discover MAC addresses for destination VMs.
                                You can use a different multicast group for each segmentation range
                                to help organize and partition network traffic.</p>
                        </pd>
                    </plentry>
                    <plentry ixia_locid="348" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="349" class="+ topic/dt pr-d/pt ">udp_port</pt>
                        <pd ixia_locid="350" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="394" class="- topic/p ">The destination UDP port for packets sent on the
                                VXLAN. You can select either the IANA standard 4789 to use this
                                range with the OpenStack Neutron service, or the legacy standard
                                8472 for use with some commercial switch equipment.</p>
                        </pd>
                    </plentry>
                    <plentry ixia_locid="352" class="+ topic/dlentry pr-d/plentry ">
                        <pt ixia_locid="353" class="+ topic/dt pr-d/pt ">time_to_live</pt>
                        <pd ixia_locid="354" class="+ topic/dd pr-d/pd ">
                            <p ixia_locid="402" class="- topic/p ">The time-to-live, measured in hops, for packets sent
                                on the VXLAN. The value is decremented at each hop; when it reaches
                                zero, the packet expires. You can use this to limit the scope of the
                                VXLAN. For example, to limit the packet to no more than three router
                                hops, use a time-to-live value of 4.</p>
                        </pd>
                    </plentry>
                </parml>
            </context>
            <context id="context_N101CB_N10037_N1000F_N10001" ixia_locid="377" class="- topic/section task/context ">
                <p ixia_locid="376" class="- topic/p ">You can obtain information about provider networks and
                    segmentation ranges using the following commands.</p>
                <codeblock ixia_locid="378" class="+ topic/pre pr-d/codeblock "><systemoutput ixia_locid="379" class="+ topic/ph sw-d/systemoutput ">~(keystone_admin)$ </systemoutput><userinput ixia_locid="380" class="+ topic/ph sw-d/userinput ">neutron net-list-on-providernet <varname ixia_locid="381" class="+ topic/keyword sw-d/varname ">providernet</userinput></codeblock>
                <codeblock ixia_locid="382" class="+ topic/pre pr-d/codeblock "><systemoutput ixia_locid="383" class="+ topic/ph sw-d/systemoutput ">~(keystone_admin)$ </systemoutput><userinput ixia_locid="384" class="+ topic/ph sw-d/userinput ">neutron providernet-range-show <varname ixia_locid="385" class="+ topic/keyword sw-d/varname ">providernet-range</userinput></codeblock>
            </context>
            <context id="context_N1002B_N10028_N10001" ixia_locid="7" class="- topic/section task/context ">
                <p ixia_locid="8" class="- topic/p ">You must configure at least one provider network in order to
                    assign data interfaces to compute nodes and unlock the hosts. In the example
                    that follows, two provider networks, <nameliteral ixia_locid="9" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">provider-net-a</nameliteral> and <nameliteral ixia_locid="10" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">provider-net-b</nameliteral>, are configured. </p>
            </context>
            <prereq id="prereq_N1003C_N10028_N10001" ixia_locid="11" class="- topic/section task/prereq ">
                <p ixia_locid="12" class="- topic/p " conref="jow1404333506062.xml#jow1404333506062/prereq-controller-0-ready"/>
            </prereq>
            <steps id="steps_hkv_vdp_wq" class="- topic/ol task/steps ">
                <step id="step_N10054_N10051_N1002E_N10001" ixia_locid="53" class="- topic/li task/step " conref="jow1404766496848.xml#jow1404766496848/source-nova-openrc">
                    <cmd ixia_locid="54" class="- topic/ph task/cmd "/>
                </step>
                <step id="step_N10051_N10045_N10028_N10001" ixia_locid="15" class="- topic/li task/step ">
                    <cmd ixia_locid="16" class="- topic/ph task/cmd ">On the active controller's console, create the two example
                        provider networks.</cmd>
                    <stepxmp ixia_locid="18" class="- topic/itemgroup task/stepxmp ">
                        <codeblock ixia_locid="19" class="+ topic/pre pr-d/codeblock "><systemoutput ixia_locid="254" class="+ topic/ph sw-d/systemoutput ">~(keystone_admin)$ </systemoutput><userinput ixia_locid="21" class="+ topic/ph sw-d/userinput ">neutron providernet-create provider-net-a --type vlan</userinput>
<systemoutput ixia_locid="255" class="+ topic/ph sw-d/systemoutput ">~(keystone_admin)$ </systemoutput><userinput ixia_locid="23" class="+ topic/ph sw-d/userinput ">neutron providernet-create provider-net-b --type vlan</userinput></codeblock>
                    </stepxmp>
                    <info ixia_locid="24" class="- topic/itemgroup task/info ">
                        <p ixia_locid="404" class="- topic/p ">Both provider networks are created as type <nameliteral ixia_locid="26" class="+ topic/ph hi-d/b wr-sw-d/nameliteral ">vlan</nameliteral>. This means that they can be
                                <term ixia_locid="27" class="- topic/term ">segmented</term>, or restricted to operate
                            over a range of specific VLAN identifiers.</p>
                    </info>
                </step>
            </steps>
            <result id="result_N100D3_N10028_N10001" ixia_locid="50" class="- topic/section task/result ">
                <p ixia_locid="51" class="- topic/p ">Two VLAN provider networks are defined. They can be referenced
                    when configuring the compute node's network interfaces.</p>
            </result>
        </taskbody>
    </rcbody>
    <related-links class="- topic/related-links ">
        <!-- This link represents an xref that was removed from a conref source -->
        <link href="jow1404333496222.xml" ixia_locid="405" class="- topic/link "/>
    </related-links>
</referable-content>