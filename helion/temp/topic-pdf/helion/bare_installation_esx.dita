<?xml version="1.0" encoding="utf-8"?><?workdir /C:\Users\sharmabi\git\documentation\helion\temp\topic-pdf\helion?><?workdir-uri file:/C:/Users/sharmabi/git/documentation/helion/temp/topic-pdf/helion/?><?path2project?><?path2project-uri ./?><topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="install_esx" ditaarch:DITAArchVersion="1.2" domains="(topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)    " class="- topic/topic " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="topic:1;3:25">
  <title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="title:1;4:10">HP Helion <tm tmtype="reg" class="- topic/tm " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="tm:1;4:37">OpenStack</tm> 2.0: Installation for ESX Hypervisor</title>
  <body class="- topic/body " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="body:1;5:9">
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:1;6:8">This document describes the procedure for the deployment of ESX cloud using input model and
      adding additional ESX hosts to an already activated cluster.</p>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:2;8:8"> It contains the following topics:<ul id="ul_wrs_dwq_lt" class="- topic/ul " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ul:1;8:65">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:1;9:13"><xref href="#install_esx/Prereqs" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:1;9:61" type="section"><?ditaot usertext?>Prerequisite</xref></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:2;10:13"><xref href="#install_esx/deployCloud" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:2;10:65" type="section"><?ditaot usertext?>Deploy ESX Cloud</xref></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:3;11:13"><xref href="#install_esx/prepAndDeploy" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:3;11:67" type="section"><?ditaot usertext?>Prepare and Deploy ESX Computes
            and OVSvAPPs</xref></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:4;13:13"><xref href="#install_esx/host-commissioning" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:4;13:72" type="section"><?ditaot usertext?>ESX Host Commissioning</xref>
            (<b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:1;14:17">Optional</b>)</li>
      </ul></p>
    <section class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="section:1;16:14">
      <note type="important" class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="note:1;17:30">
        <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:3;18:12">Before you start your ESX cloud deployment ensure that you read the following
          instructions carefully. </p>
      </note>
    </section>
    <section class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="section:1;6:35"><title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="title:2;6:42">Important Notes</title>
      <ul class="- topic/ul " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="ul:1;7:11">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:1;8:13">If you are looking for information about when to use the GUI installer and when to use
          the CLI, see the <xref href="installation_overview.dita#install_overview" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:1;9:85" type="topic"><?ditaot usertext?>Installation
            Overview</xref>.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:2;11:13">We have put together a <xref href="preinstall_checklist.dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:2;11:75" type="topic"><?ditaot usertext?>Pre-Installation
            Checklist</xref> that should help with the recommended pre-installation tasks.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:3;13:13">Ensure the <xref href="hardware.dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:3;13:51" type="topic"><?ditaot usertext?>minimum hardware requirements</xref> are met in
          your environment.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:4;15:13">There is no longer a requirement to use a dedicated deployer node. See the note in the
            <xref href="releasenotes.dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:4;16:44" type="topic"><?ditaot usertext?>Release Notes</xref> as well as the configuration section
          in the install steps below for details.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:5;18:13">There is no requirement to have a dedicated network for OS-install and system
          deployment. More information can be found on the <xref href="supportedconfigs.dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:5;20:14" type="topic"><?ditaot usertext?>Supported Configuration</xref> page.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:6;21:13">If you run into issues during installation, we have put together a list of <xref href="installation_troubleshooting.dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:6;22:54" type="topic"><?ditaot usertext?>Troubleshooting Steps</xref> you can
          reference.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:7;24:13">Read over the page about the <xref href="input_model.dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:7;24:72" type="concept"><?ditaot usertext?>Helion OpenStack 2.0 Input
            Model</xref> to learn about the configuration options for your cloud.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:8;26:13">Make sure <xref href="administration/wipe_disks.dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:8;26:67" type="topic"><?ditaot usertext?>all disks on the system(s) are
            wiped</xref> before you begin the install. (For Swift, refer to <xref href="swift/allocating_disk_drives.dita#allocating-disk-drives/requirement-disk-device" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:9;29:14" type="p"><?ditaot usertext?>Swift Requirements for Device Group Drives</xref>)</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:9;30:13">The <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:1;30:25">/dev/sda</codeph> disk on your systems will be used for the operating
          system.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:10;32:13">Both HP Linux for HP Helion OpenStack and HP Helion OpenStack are part of the ISO you
          will download from the <xref href="https://helion.hpwsportal.com/catalog.html#/Category/%7B%22categoryId%22%3A10311%7D/Show" format="html" scope="external" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:10;35:44"><?ditaot usertext?>Helion Downloads</xref> page. There is only one download;
          it includes both the operating system and the Helion OpenStack installer in one ISO.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:11;37:13">All machines of a given role should be the same configuration.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:12;38:13">The machine hosting the deployer and all baremetal systems must be connected to a
          management network. Nodes on this management network must be able to reach the iLO
          subsystem of each baremetal system to enable host reboots as part of the install process.
          The HP Helion OpenStack architecture requires that the IPMI network is a separate network
          and that a route exists from the management network to the IPMI network for iLO
          access.</li>
      </ul>
    </section>
    <section class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="section:2;46:27">
      <title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="title:3;47:14">Before You Start</title>
      <note type="important" class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="note:1;48:30">We have put together a <xref href="preinstall_checklist.dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:11;49:12" type="topic"><?ditaot usertext?>Pre-Installation Checklist</xref> that should help with the recommended pre-installation
        tasks.</note>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:1;51:10">Prepare your baremetal hardware, as follows, on all nodes:</p>
      <ul class="- topic/ul " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="ul:2;52:11">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:13;53:13">Set up the iLO Advanced license in the iLO configuration. Make sure the iLO user has
          admin privileges.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:14;55:13"> HP Helion OpenStack 2.0 Beta 2 will detect and use the "BIOS" mode you have selected
          for each node; UEFI or legacy BIOS. UEFI support is new in Beta 2.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:15;57:13">Ensure that the network interface to be used for PXE installation has PXE enabled.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:16;58:13">Ensure that the other network interfaces have PXE disabled.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:17;59:13">Ensure that any logical drives (LUN) for the servers you will be using are created to
          meet the disk requirements outlined in the <xref href="hardware.dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:12;60:81" type="topic"><?ditaot usertext?>Minimum Hardware
            Requirements</xref>.</li>
      </ul>
    </section>
    <section id="Prereqs" class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="section:4;24:27">
      <title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="title:2;25:14">Prerequisite</title>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:4;26:10">ESX/vCenter integration is not fully automatic, vCenter administrators are advised of the
        following responsibilities to ensure secure operation:</p>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:5;28:10">
        <ul id="ul_shv_s4b_2t" class="- topic/ul " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ul:2;29:32">
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:5;30:15">The VMware administrator is responsible for administration of the vCenter servers and
            the ESX nodes using the VMware administration tools. These responsibilities include: <ul id="ul_py3_j5l_ft" class="- topic/ul " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ul:3;32:34">
              <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:6;33:19">Installing and configuring vCenter Server</li>
              <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:7;34:19">Installing and configuring ESX server and ESX cluster</li>
              <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:8;35:19">Installing and configuring shared datastores</li>
              <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:9;36:19">Establishing network connectivity between the ESX network and the HP Helion
                management network</li>
            </ul></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:10;39:15">The VMware administration staff is responsible for the review of vCenter logs. These
            logs are not automatically included in Helion centralized logging.</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:11;41:15">Logging levels for vCenter should be set appropriately to prevent logging of the
            password for the Helion message queue.</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:12;43:15">The vCenter cluster and ESX Compute nodes must be appropriately backed up.</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:13;44:15">Backup procedures for vCenter should ensure that the file containing the Helion
            configuration as part of Nova and Cinder volume services is backed up and the backups
            are protected appropriately.</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:14;47:15">Since the file containing the Helion message queue password could appear in the swap
            area of a vCenter server, appropriate controls should be applied to the vCenter cluster
            to prevent discovery of the password via snooping of the swap area or memory dumps</li>
        </ul>
      </p>
    </section>
    <section id="deployCloud" class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="section:5;53:31"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:2;53:34">Deploy ESX Cloud</b><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:6;53:57">At a high level, here are the steps to
        configure and deploy ESX cloud:</p><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:7;54:47"><image href="../media/esx/esx_deploy.jpg" id="image_kjt_zlm_ft" placement="inline" class="- topic/image " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="image:1;55:34"/></p></section>
    <section class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="section:6;56:14">
      <title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="title:3;57:14">Procedure to Deploy ESX cloud</title>
    </section>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:8;59:8">The following topics in this section explain how to deploy ESX cloud.</p>
    <section class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="section:3;64:35">
      <title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="title:4;65:14">Set up the Deployer</title>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:2;66:10">You can use a dedicated deployer node or you can run these instructions on your first
        controller node. There is only one difference in the steps and that is notated in the <xref href="bare_installation_kvm.dita#install_kvm/Configuration" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:13;68:45" type="section"><?ditaot usertext?>Configure Your Environment</xref> section.</p>
      <ol class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="ol:1;69:11">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:18;70:13">Download the HP Helion OpenStack Deployer ISO from the <xref href="https://helion.hpwsportal.com/catalog.html#/Category/%7B%22categoryId%22%3A10311%7D/Show" format="html" scope="external" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="xref:14;72:44"><?ditaot usertext?>Helion Downloads</xref> page after signing up and being
          approved for the program.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:19;74:13">Boot your deployer from the ISO. Insert the CD ROM in the Virtual Media drive on the
          iLO.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:20;76:13">Enter "install" to start installation. <note class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="note:2;76:58">"install" is all lower case</note></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:21;77:13">Select the language. Note that only the English language selection is currently
          supported.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:22;79:13">Select the location.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:23;80:13">Select the keyboard layout.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:24;81:13">Select the primary network interface, if prompted:<ul class="- topic/ul " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="ul:3;81:67">
            <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:25;82:17">Assign IP address, netmask, default gateway</li>
          </ul></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:26;84:13">Create new account:<ul class="- topic/ul " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="ul:4;84:36">
            <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:27;85:17">Enter a username.</li>
            <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:28;86:17">Enter a password.</li>
            <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:29;87:17">Enter time zone if prompted to do so.</li>
          </ul>
        </li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:30;90:13">Ensure your deployer has a valid DNS nameserver in the <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:2;90:76">/etc/resolv.conf</codeph>
          file</li>
      </ol>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:3;93:10">At the end of this section you should have a node set up with hLinux on it.</p>
    </section>
    <section class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="section:4;95:44">
      <title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="title:5;96:14">Configure and Run the Deployer</title>
      <note class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="note:3;97:13">It's critical that you don't run as root. Run as the user you just created (or stack if
        you left the default of "stack"), but do not run as root.</note>
      <ol class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="ol:2;99:11">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:31;100:13">Log in to the node you setup in the previous steps as the user you created during the
          setup phase, and mount the install media at <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:3;101:63">/media/cdrom</codeph>. Here is the
          command to achieve this:
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:1;103:22">sudo mount Helion-OpenStack-2.0.0-b.2-Beta2.iso /media/cdrom</codeblock></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:32;104:13">Unpack the tarball that is in the <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:4;104:55">/media/cdrom/hos2.0.0/</codeph> directory:
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:2;105:22">tar zxvf /media/cdrom/hos-2.0.0/hos-2.0.0-b.2-20150920T130131Z.tgz</codeblock></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:33;106:13">Run the following included script:
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:3;107:22">~/hos-2.0.0-b.2/hos-init.bash</codeblock></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:34;108:13"><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:4;108:16">You will be prompted to enter an optional SSH passphrase when running
              <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:5;109:23">hos-init.bash</codeph>. This passphrase is used to protect the key used by
            Ansible when connecting to its client nodes. If you do not want to use a passphrase then
            just press return at the prompt.</p>
          <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:5;112:14">For automated installation (e.g. CI) it is possible to disable SSH passphrase prompting
            by setting the <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:6;113:36">HOS_INIT_AUTO</codeph> environment variable before running
              <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:7;114:23">hos-init.bash</codeph>, like this:</p>
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:4;115:22">export HOST_INIT_AUTO=y</codeblock></li>
      </ol>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:6;117:10">If you have protected the SSH key with a passphrase then execute the following commands to
        avoid having to enter the passphrase on every attempt by Ansible to connect to its client
        nodes: <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:5;119:27">eval $(ssh-agent)
ssh-add ~/.ssh/id_rsa</codeblock></p>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:7;121:10">At the end of this section you should have a local directory structure, as described
        below:</p>
      <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:6;123:18">
helion/                        Top level directory
helion/examples/               Directory contains the config input files of the example clouds
helion/my_cloud/definition/    Directory contains the config input files
helion/my_cloud/config/        Directory contains .j2 files which are symlinks to the /hos/ansible directory
helion/hos/                    Directory contains files used by the installer
</codeblock>
    </section>
    <section id="Configure" class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="section:9;62:29">
      <title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="title:4;63:14">Prepare and Deploy Cloud Controllers</title>
      <ol id="ol_c1w_pfl_ft" class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ol:1;64:30">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:15;65:13">See a sample set of configuration files in the
            <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:1;66:21">~/helion/examples/one-region-poc-with-esx</codeph> directory. The accompanying
          README.md file explains the contents of each of the configuration files. </li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:16;68:13">Copy the example configuration files into the required setup directory and edit them as
          required:
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:1;70:22">cp -r ~/helion/examples/one-region-poc-with-esx/* ~/helion/my_cloud/definition/</codeblock></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:17;71:13">The configuration files for editing are available at
            <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:2;72:21">~/helion/my_cloud/definition/</codeph>. Refer to the <b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:3;72:77"><xref href="input_model.dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:5;73:39" type="concept"><?ditaot usertext?>Helion OpenStack 2.0 Input Model</xref></b> document for
          assistance with the configuration files. <note type="important" class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="note:2;74:75">If you chose to use your
            first controller node as your deployer, ensure that your
              <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:3;76:23">baremetalConfig.yml</codeph> file contains the <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:4;76:78">is_deployer:
              true</codeph> notation in your controller options. If you are using a dedicated
            deployer node you can omit this. Here is an example snippet of a
              <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:5;79:23">baremetalConfig.yml</codeph> file where a user is using their first controller
            node as their deployer:
            <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:2;81:24">
node_name: "ccn-0001"
role: "ROLE-CONTROLLER"
pxe_mac_addr: "b2:72:8d:ac:7c:6f"
pxe_interface: "eth2"
pxe_ip_addr: "192.168.10.3"
ilo_ip: "192.168.9.3"
ilo_user: "admin"
ilo_password: "password"
<b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:4;90:4">is_deployer: true</b></codeblock></note></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:18;91:13">Modify the <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:6;91:32">~/helion/hos/ansible/hlm-deploy.yml</codeph> to uncomment the line
          containing <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:7;92:30">eon-deploy.yml</codeph>.</li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:19;93:13">Modify the <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:8;93:32">neutron.conf.j2</codeph> at
              <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:9;94:23">~/helion/my_cloud/config/<codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:10;94:56">neutron/neutron.conf.j2</codeph></codeph>with
          the following values:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:3;95:43">router_distributed = False</codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:9;95:84"> And add
              <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:11;96:23">mechanism_drivers = ovsvapp</codeph> at the end of the
              <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:12;97:23">neutron.conf.j2</codeph>.</p></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:20;98:13">Modify <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:13;98:28">ml2_conf.ini.j2</codeph> at
              <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:14;99:23">~/helion/my_cloud/config/<codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:15;99:56">neutron/ml2_conf.ini.j2</codeph></codeph>with
          the following
          values:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:4;101:29">[ml2]
mechanism_drivers = ovsvapp, openvswitch, l2population
[agent]
enable_distributed_routing = False</codeblock></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:21;105:13">Commit your cloud deploy configuration to the<xref href="using_git.dita#topic_u3v_1yz_ct" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:6;106:52" type="topic"><?ditaot usertext?> local git repo</xref>, as follows: <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:5;106:99">cd ~/helion/hos/ansible
git add -A
git commit -m "My config or other commit message"</codeblock>
          <note class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="note:3;109:17">This step needs to be repeated any time you make changes to your configuration files
            before you move onto the following steps. See <xref href="using_git.dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:7;110:87" type="topic"><?ditaot usertext?>Using Git for
              Configuration Management</xref> for more information.</note></li>
      </ol>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:10;113:10">Then you need to run the following commands to complete your configuration. These commands
        also verify your configuration is correct.</p>
      <ol class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ol:2;115:11">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:22;116:13">Run the following playbook which confirms that there is iLo connectivity for each of
          your nodes so that they are accessible to be re-imaged in a later step:
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:6;118:22">cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost bm-power-status.yml</codeblock></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:23;120:13">Run the configuration processor, as follows:
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:7;121:22">cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost config-processor-run.yml</codeblock></li>
      </ol>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:11;124:10">If you receive an error during either of these steps then there is an issue with one or
        more of your configuration files. We recommend that you verify that all of the information
        in each of your configuration files is correct for your environment and then commit those
        changes to git using the instructions above.</p>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:12;128:10">Before re-running the Configuration Processor after fixing an error you need to run the
        clean script detailed in the <xref href="installation_troubleshooting.dita#troubleshooting_installation/configproc" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:8;131:12" type="p"><?ditaot usertext?>Installation Troubleshooting</xref> document.</p>
    </section>
    <section class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="section:6;218:33">
      <title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="title:7;219:14">Deploy Cobbler</title>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:13;220:10">This phase of the install process takes the baremetal information that was provided in
          <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:17;221:19">servers.yml</codeph> and installs the Cobbler provisioning tool and loads this
        information into Cobbler. This sets each node to <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:18;222:66">netboot-enabled: true</codeph>.
        Each node will be automatically marked as <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:19;223:59">netboot-enabled: false</codeph> when it
        completes its operating system install successfully. Even if the node tries to PXE boot
        subsequently, Cobbler will not serve it. This is deliberate so that you can't reimage a live
        node by accident.</p>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:14;227:10">The <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:20;227:22">cobbler-deploy.yml</codeph> playbook prompts for a password - this is the
        password to be able to log in to the nodes via their consoles after install. The username is
        the same as the user set up in the initial dialogue when installing the deployer from the
        iso, and is the same user that is running the cobbler-deploy play.</p>
      <ol class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="ol:7;231:11">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:48;232:13">Run the following command:
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:16;233:22">export ANSIBLE_HOST_KEY_CHECKING=False</codeblock></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:49;234:13">Run the following playbook to deploy Cobbler:
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:17;235:22">cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost cobbler-deploy.yml</codeblock></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:50;237:13">The cobbler-deploy stage of the installation now prompts for a password. The entered
          value is used to set a user-defined password for subsequent node installs so that a user
          can gain console/terminal access to the nodes. For example, if a node maintenance is
          required or if the SSH keys are lost. The value is encrypted and placed in the kickstart
          for the node installs.<p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:15;241:36">The password prompts look like this:</p>
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:18;242:22">Enter the password that will be used to access provisioned nodes:
confirm Enter the password that will be used to access provisioned nodes:</codeblock>
          <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:16;244:14">Alternatively, you can also specify this password in the ansible playbook command like
            this:</p>
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:19;246:22">ansible-playbook -i hosts/localhost cobbler-deploy.yml -e hlmuser_password="&lt;password&gt;"</codeblock></li>
      </ol>
    </section>
    <section class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="section:7;249:33"><title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="title:8;249:40">Provision the Nodes</title>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:17;250:10">This phase of the install process goes through a number of distinct steps: <ol class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="ol:8;250:89">
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:51;251:15">Powers down the nodes to be installed</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:52;252:15">Sets the nodes hardware boot order so that the first option is a network boot.</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:53;253:15">Powers on the nodes. (The nodes will then boot from the network and be installed using
            infrastructure set up in the previous phase)</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:54;255:15">Waits for the nodes to power themselves down (this indicates a success install). This
            can take some time.</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:55;257:15">Sets the boot order to hard disk and powers on the nodes.</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:56;258:15">Waits for the nodes to be ssh-able and verifies that they have the signature
            expected.</li>
        </ol>
      </p>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:18;262:10">The reimage command is:</p>
      <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:20;263:18">cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost bm-reimage.yml [-e nodelist=node1,node2,node3]</codeblock>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:19;265:10">If a nodelist is not specified then the set of nodes in cobbler with
          <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:21;266:19">netboot-enabled: True</codeph> is selected. The playbook pauses at the start to
        give you a chance to review the set of nodes that it is targeting and to confirm that it's
        correct.</p>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:20;269:10">You can use <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:22;269:30">sudo cobbler system report</codeph> which will give you a synopsis of
        the nodes' information including whether the <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:23;270:62">netboot-enabled</codeph> flag is
        set.</p>
    </section>
    <section class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="section:8;273:26"><title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="title:9;273:33">Deploy the Cloud</title>
      <ol class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="ol:9;274:11">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:57;275:13">Use the playbook below to create a deployment directory:
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:21;276:22">cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost ready-deployment.yml</codeblock></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:58;278:13">Run the <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:24;278:29">site.yml</codeph> playbook using the following command. The <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:25;278:97">-e
            elasticsearch_cluster_name</codeph> switch is used to set a unique name for your
          elasticsearch cluster. This should be set to a value other than
            <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeph:26;281:21">elasticsearch</codeph>. <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:22;281:56">cd ~/scratch/ansible/next/hos/ansible 
ansible-playbook -i hosts/verb_hosts site.yml -e elasticsearch_cluster_name=&lt;name&gt;</codeblock>
          <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="p:21;283:14">If you have used an encryption password when running the Configuration processor use
            the command below and enter the encryption password when prompted:
            <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="codeblock:23;285:24">ansible-playbook -i hosts/verb_hosts site.yml --ask-vault-pass</codeblock>
          </p>
          <note class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="note:7;287:17"> The step above runs osconfig to configure the cloud and hlm-deploy, to deploy the
            cloud. Therefore, this step may run for quite some time while all the nodes are
            configured (perhaps 45 minutes or more, depending on the number of nodes, to a degree).
          </note>
        </li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_kvm.dita" xtrc="li:59;292:13">Verify that the network is working correctly. Ping each IP (excluding VSA-BLK and VIPs)
          from the /etc/hosts file from one of the controller nodes.</li>
      </ol>
    </section>
    <section id="prepAndDeploy" class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="section:13;136:33">
      <title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="title:5;137:14">Prepare and Deploy ESX Computes and OVSvAPPs </title>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:13;138:10">The following sections describe the procedure to install and configure ESX compute and
        OVSvAPPs on vCenter.</p>
      <ul id="ul_lns_fjl_ft" class="- topic/ul " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ul:4;140:30">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:24;141:13"><xref href="#install_esx/deploy-template" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:9;141:69" type="section"><?ditaot usertext?>Deploy Helion Linux Shell VM
            Template</xref></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:25;143:13"><xref href="#install_esx/prepare-esx-cloud-deployment" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:10;143:82" type="section"><?ditaot usertext?>Preparation for ESX
            Cloud Deployment</xref></li>
      </ul>
    </section>
    <section id="deploy-template" class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="section:14;147:35"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:5;147:38">Deploy Helion Linux Shell VM Template</b><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:14;147:82">The first step in
        deploying the ESX compute proxy and OVSvAPPs is to create a VM template that will make it
        easier to deploy the ESX compute proxy for each Cluster and OVSvAPPs on each ESX server.
        </p><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:15;150:16">Perform the following steps to deploy a template:<ol id="ol_qdt_ljs_ft" class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ol:3;150:88">
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:26;151:15">Import the <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:16;151:34">hlm-shell-vm.ova</codeph> in the vCenter using the vSphere client. </li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:27;152:15">In the vSphere Client, click <b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:6;152:47">File</b> and then click <b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:7;152:74">Deploy OVF
            Template</b></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:28;154:15">Follow the instructions in the wizard to specify the data center, cluster, and node to
            install. Refer to the VMWare vSphere documentation as needed.</li>
        </ol></p></section>
    <section id="prepare-esx-cloud-deployment" class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="section:15;157:48"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:8;157:51">Preparation for ESX Cloud Deployment</b><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:16;157:94">This
        section describes the procedures to prepare and deploy the ESX computes and OVSvAPPs for
        deployment. <ol id="ol_xpc_zqs_ft" class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ol:4;159:44">
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:29;160:15">Login to the deployer node.</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:30;161:15">Source <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:17;161:30">service.osrc</codeph>.</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:31;162:15"><xref href="#install_esx/register-vcenter" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:11;162:72" type="p"><?ditaot usertext?>Register a vCenter
              Server</xref></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:32;164:15"><xref href="#install_esx/register-network" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:12;164:72" type="p"><?ditaot usertext?>Register ESX Cloud Network
              Configuration</xref></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:33;166:15"><xref href="#install_esx/import-cluster" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:13;166:70" type="p"><?ditaot usertext?>Import Clusters</xref></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:34;167:15"><xref href="#install_esx/activate-cluster" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:14;167:72" type="p"><?ditaot usertext?>Activate Clusters</xref></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:35;168:15"><xref href="#install_esx/modify-volume-config" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:15;168:76" type="p"><?ditaot usertext?>Modify the Volume
              Configuration File</xref></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:36;170:15"><xref href="#install_esx/commit-your-cloud" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:16;170:73" type="p"><?ditaot usertext?>Commit your Cloud
              Definition</xref></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:37;172:15"><xref href="#install_esx/deploy-compute-proxy-ovsvapps" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:17;172:85" type="p"><?ditaot usertext?>Deploy ESX
              Compute Proxy and OVSvApps</xref></li>
        </ol></p></section>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:17;175:8"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:9;175:11">Manage vCenters and Clusters</b></p>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:18;176:8">The following section describes the detailed procedure on managing the vCenters and
      clusters.</p>
    <p id="register-vcenter" class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:19;178:30"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:10;178:33">Register a vCenter Server</b></p>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:20;179:8">vCenter provides centralized management of virtual host and virtual machines from a single
        console.<ol id="ol_xdj_5js_ft" class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ol:5;180:40">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:38;181:13">Add a vCenter using EON python
            client.<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:8;182:31"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:18;182:39"># eon vcenter-add --name &lt;vCenter Name&gt; --ip-address &lt;vCenter IP address&gt; --username &lt;vCenter Username&gt; --password &lt;vCenter Password&gt; --port &lt;vCenter Port&gt;</codeph></codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:21;182:233">where:
              <ul id="ul_bp3_yjs_ft" class="- topic/ul " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ul:5;183:38">
              <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:39;184:19">vCenter Name - the identical name of the vCenter server.</li>
              <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:40;185:19">vCenter IP address - the IP address of the vCenter server.</li>
              <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:41;186:19">vCenter Username - the admin privilege username for the vCenter.</li>
              <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:42;187:19">vCenter Password - the password for the above username.</li>
              <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:43;188:19">vCenter Port - the vCenter server port. By default it is 443. <note type="important" class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="note:4;189:36">Please do not change the port unless you are sure about the
                  vCenter Port.</note></li>
            </ul></p><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:22;191:25"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:11;191:28">Sample
            Output:</b><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:9;192:35"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:19;192:43"># eon vcenter-add --name vc01 --ip-address 10.1.200.41 --username administrator@vsphere.local --password password --port 443</codeph>
+------------+--------------------------------------+
| Property   | Value                                |
+------------+--------------------------------------+
| created_at | 2015-08-20T12:08:09.000000           |
| deleted    | False                                |
| deleted_at | None                                 |
| id         | BC9DED4E-1639-481D-B190-2B54A2BF5674 |
| ip_address | 10.1.200.41                          |
| name       | vc01                                 |
| password   | &lt;SANITIZED&gt;                          |
| port       | 443                                  |
| type       | vcenter                              |
| updated_at | 2015-08-20T12:08:09.000000           |
| username   | administrator@vsphere.local          |
+------------+--------------------------------------+</codeblock></p></li>
      </ol></p>
    <section class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="section:16;209:14"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:12;209:17">Show vCenter</b><ol id="ol_wh5_rsb_lt" class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ol:6;209:56">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:44;210:13">Show vCenter using EON python
              client.<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:10;211:33"># eon vcenter-show &lt;vCenter ID&gt;</codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:23;211:82"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:13;211:85">Sample
              Output:</b><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:11;212:37"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:20;212:45"># eon vcenter-show BC9DED4E-1639-481D-B190-2B54A2BF5674 </codeph>
+------------+--------------------------------------+
| Property   | Value                                |
+------------+--------------------------------------+
| created_at | 2015-08-20T12:08:09.000000           |
| datacenters| DC1                                  |
| deleted    | False                                |
| deleted_at | None                                 |
| id         | BC9DED4E-1639-481D-B190-2B54A2BF5674 |
| ip_address | 10.1.200.41                          |
| name       | vc01                                 |
| password   | &lt;SANITIZED&gt;                          |
| port       | 443                                  |
| type       | vcenter                              |
| updated_at | 2015-08-20T12:08:09.000000           |
| username   | administrator@vsphere.local          |
+------------+--------------------------------------+</codeblock></p></li>
      </ol></section>
    <p id="register-network" class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:24;230:30"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:14;230:33">Register ESX Cloud Network Configuration</b></p>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:25;231:8">This involve getting a sample network information template. Fill the details of the template
      and use that template to register cloud network configuration for the vCenter.</p>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:26;233:8">
      <ol class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ol:7;234:11">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:45;235:13">Execute the following command to get the network information
            template:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:12;236:33"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:21;236:41"># eon get-network-info-template --filename &lt;<b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:15;236:91">NETWORK_CONF_FILENAME</b>&gt;</codeph></codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:27;236:141">For
            example:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:13;237:32"># eon get-network-info-template --filename net_conf.json</codeblock></p><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:28;237:107">Sample
            file of <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:22;238:29">net_conf.json</codeph> is shown
            below:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:14;239:30">{
    "network": {
        # Deployer Network details
        # This network should be reachable from the Deployer node
        "deployer_network": {
            #Deployer Portgroup Name.
            "deployer_pg_name": "hlm-Deployer-PG",

            #VLAN id for Deployer Portgroup
            "deployer_vlan": "33",

            #Enable DHCP for Deployer N/W
            "enable_deployer_dhcp": "no",

            #CIDR and gateway for deployer network only when static
            "deployer_cidr": "10.20.18.0/23",
            "deployer_gateway_ip": "10.20.18.1",

            #Deployer Node's PXE IP Address
            "deployer_node_ip": "10.20.16.2"
        },

        #Management Network details
        "management_network": {
            #Mgmt DVS name.
            "mgmt_dvs_name": "hlm-Mgmt",

            #Physical NIC name for Mgmt DVS
            "mgmt_nic_name": "vmnic3",

            #Mgmt Portgroup Name.
            "mgmt_pg_name": "hlm-Mgmt-PG",

            #Interface order: Example eth1
            "mgmt_interface_order": "eth1",

            "active_nics": "",

            "load_balancing": "1",

            "network_failover_detection": "1",

            "notify_switches": "yes"
        },

        "data_network": {
            #Tenant network type
            "tenant_network_type": "vlan",

            "data_dvs_name": "hlm-Data",

            "data_nic_name": "vmnic2, vmnic1",

            #Data Portgroup Name.
            "data_pg_name": "hlm-Data-PG",

            #Interface order: Example eth2
            "data_interface_order": "eth2",

            #If more than one mgmt_nic_name are specified then NIC teaming will be enabled by default
            #Active uplink NICs for NIC teaming(If this field is empty, first data_nic_name will be "Active" and the rest will be in "Standby")
            "active_nics": "vmnic2",

            #Load Balancing. Please choose the corresponding number
            #    1 -&gt; Route based on the originating virtual port
            #    2 -&gt; Route based on IP hash
            #    3 -&gt; Route based on source MAC hash
            #    4 -&gt; Route based on physical NIC load
            #    5 -&gt; Use explicit failover order
            "load_balancing": "1",

            #Network Failover Detection. Please choose the corresponding number
            #    1 -&gt; Link Status
            #    2 -&gt; Beacon Probing
            "network_failover_detection": "1",

            #Notify Switches(yes/no)
            "notify_switches": "yes"
        },

        "hpvcn_trunk_network": {
            #Trunk DVS name
            "trunk_dvs_name": "hlm-Trunk",

            #Trunk Portgroup Name.
            "trunk_pg_name": "hlm-Trunk-PG",

            #Interface order: Example eth3
            "trunk_interface_order": "eth3"
        },

        #VLAN Range for Data &amp; Trunk port group. Please provide the range separated by a hyphen(vlan-vlan).
        #Multiple vlan or vlan ranges has to be a comma separated value(*OPTIONAL)
        "vlan_range": "1-4094"
    },

    "template": {
        #Provide the template/appliance name that will be used for cloning Computeproxy and OVSvApp VMs
        "template_name": "hlm-template"
    },

    "vmconfig": {
        #Number of CPUs for OVSvApp/Computeproxy VM
        "cpu": "4",

        #Amount of RAM in MB
        "memory_in_mb": "4096",

        #SSH public key content for OVSvAPP/Computeproxy password less login.
        "ssh_key": "&lt;deployer-ssh-pub-key-contents&gt;"
    },
        # Do you want to skip inactive or maintenance mode hosts ?
    "skip_inactive_hosts": "yes",
        # Provide new host mo ids when you are adding a new host in an activated cluster.
    "new_host_mo_ids": ""
}</codeblock></p></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:46;355:13">Modify the template (json file) as per your
            environment.<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:15;356:36">vi &lt;<b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:16;356:46">NETWORK_CONF_FILENAME</b>&gt;</codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:29;356:87">For
            example:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:16;357:32">vi net_conf.json</codeblock></p></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:47;358:13">Use the template to register Cloud Network Configuration. This sets the network
          information for a vCenter which is used to deploy and configure compute proxy and OVSvAPP
          VMs during the cluster activation.
            <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:17;361:24"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:23;361:32"># eon set-network-info --vcenter-id &lt;vCenter ID&gt; --datacenter-name &lt;datacenter name&gt; --config-json &lt;NETWORK_CONF_FILENAME&gt;</codeph></codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:30;361:187">For
            example:
            <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:18;363:24"># eon set-network-info --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674 --datacenter DC1 --config-json net_conf.json</codeblock></p><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:31;363:160">
            <note class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="note:5;364:19">The vcenter ID is generated when you execute the above (<b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:17;364:78">step 2</b>)
              command.</note>
          </p></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:48;367:13">Execute the following command to view the list of clusters for the given
            vCenter.<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:19;368:32"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:24;368:40"># eon cluster-list --vcenter-id &lt;vCenter ID&gt;</codeph></codeblock><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:18;368:111">Sample
            Output</b><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:20;369:34"># eon cluster-list --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674
+------------+----------+------------+---------------+
| MOID       | Name     | Datacenter | Import Status |
+------------+----------+------------+---------------+
| domain-c21 | Cluster1 | DC1        | not_imported  |
+------------+----------+------------+---------------+</codeblock></li>
      </ol>
    </p>
    <p id="import-cluster" class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:32;377:28"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:19;377:31">Import Cluster</b>
    </p>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:33;379:8">You can use one or more ESX clusters for ESX Cloud Deployment. When a Import Cluster is
      invoked, required ESX Compute Proxy and OVSvApp nodes are deployed.</p>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:34;381:8">
      <ol class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ol:8;382:11">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:49;383:13"> Import the cluster for the EON database under the given vCenter. <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:21;383:90"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:25;383:98"># eon cluster-import --vcenter-id &lt;vCenter ID&gt; --cluster-name &lt;Cluster Name&gt; --cluster-moid &lt;Cluster Moid&gt;</codeph></codeblock>where:<p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:35;383:243">
            <ul id="ul_r4g_rjs_ft" class="- topic/ul " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ul:6;384:36">
              <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:50;385:19">vCenter ID - ID of the vcenter containing the cluster.</li>
              <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:51;386:19">Cluster Name - the name of the cluster that needs to be imported.</li>
              <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:52;387:19">cluster Moid - Moid of the cluster that needs to be imported.</li>
            </ul>
          </p><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:36;389:18"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:20;389:21">Sample
            Output</b><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:22;390:34"># eon cluster-import --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674 --cluster-name Cluster1 --cluster-moid domain-c21
+--------------+-----------+
| Property     | Value     |
+--------------+-----------+
| cpu_free     | 83071.73  |
| cpu_total    | 83072     |
| cpu_used     | 0.27      |
| datacenter   | DC1       |
| disk_free    | 1022.79   |
| disk_total   | 1023.75   |
| errors       | []        |
| memory_free  | 496.82    |
| memory_total | 511.76    |
| memory_used  | 14.94     |
| name         | Cluster1  |
| state        | importing |
| switches     | []        |
+--------------+-----------+</codeblock></p><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:37;407:48">One
            vCenter can have multiple clusters. But it allows you to import only one cluster at a
            time.</p></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:53;410:13"> Execute the following command to view the list of clusters for the given
            vCenter.<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:23;411:32"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:26;411:40"># eon cluster-list --vcenter-id &lt;vCenter ID&gt;</codeph></codeblock><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:21;411:111">Sample
            Output</b><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:24;412:34"># eon cluster-list --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674
+------------+----------+------------+---------------+
| MOID       | Name     | Datacenter | Import Status |
+------------+----------+------------+---------------+
| domain-c22 | Cluster2 | DC1        | imported      |
+------------+----------+------------+---------------+</codeblock></li>
      </ol>
    </p>
    <p id="activate-cluster" class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:38;420:30"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:22;420:33">Activate Clusters</b><note class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="note:6;420:60">You can activate the cluster only after
        the import status of the cluster is changed to <b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:23;421:59">imported</b>.<p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:39;421:75">When you execute the
          active cluster command, the <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:27;422:47">server.yml</codeph> of the input model is updated with
          IP Addresses of compute proxy and OVSvApp.
          <!--VMs correspesponding to the clusters are being activated.--></p></note></p>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:40;425:8">
      <ol class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ol:9;426:11">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:54;427:13">Activate the cluster for the selected
              vCenter.<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:25;428:34"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:28;428:42"># eon cluster-activate --vcenter-id &lt;vCenter ID&gt; --cluster-moid &lt;Cluster Moid&gt; </codeph></codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:41;428:151"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:24;428:154">Sample
              Output</b></p><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:42;429:32">
            <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:26;430:24"># eon cluster-activate --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674 --cluster-moid domain-c22 
+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property      | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| node_info     | {u'computeproxy': {u'pxe-mac-addr': u'00:50:56:b6:ce:1b', u'pxe-ip-addr': u'172.170.2.4', u'name': u'COMPUTEPROXY_Cluster1', u'cluster-moid': u'domain-c21'}, u'network_driver': {u'cluster_dvs_mapping': u'DC1/host/Cluster1:hlm-Trunk', u'Cluster1': [{u'host-moid': u'host-29', u'pxe-ip-addr': u'172.170.2.3', u'esx_hostname': u'10.1.200.33', u'ovsvapp_node': u'ovsvapp-10-1-200-33', u'pxe-mac-addr': u'00:50:56:b6:5e:9a'}, {u'host-moid': u'host-25', u'pxe-ip-addr': u'172.170.2.2', u'esx_hostname': u'10.1.200.66', u'ovsvapp_node': u'ovsvapp-10-1-200-66', u'pxe-mac-addr': u'00:50:56:b6:56:e6'}]}} |
| resource_moid | domain-c21                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| resource_name | Cluster1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| state         | activated                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</codeblock>
          </p></li>
      </ol>
    </p>
    <p id="modify-volume-config" class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:43;442:34"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:25;442:37">Modify the Volume Configuration File</b></p>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:44;443:8">Once the cluster is activated you must configure the volume.</p>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:45;444:8">Perform the following steps to modify the volume configuration files:</p>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:46;445:8">
      <ol class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ol:10;446:11">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:55;447:13">Change the directory. The <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:29;447:47">cinder.conf.j2</codeph> is present in following
          directories
            :<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:27;449:25">cd /home/stack/helion/hos/ansible/roles/_CND-CMN/templates</codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:47;449:98">OR<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:28;449:111">cd /home/stack/helion/my_cloud/config/cinder</codeblock></p><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:48;449:174">It
            is recommended to modify the <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:30;450:50">cinder.conf.j2</codeph> present in
              <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:31;451:23">/home/stack/helion/my_cloud/config/cinder</codeph></p></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:56;452:13">Modify the <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:32;452:32">cinder.conf.j2</codeph> as follows:
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:29;453:22"># Start of section for VMDK block storage
#
# If you have configured VMDK Block storage for cinder you must
# uncomment this section, and replace all strings in angle brackets
# with the correct values for vCenter you have configured. You
# must also add the section name to the list of values in the
# 'enabled_backends' variable above. You must provide unique section
# each time you configure a new backend.
#
#[&lt;unique-section-name&gt;]
#vmware_api_retry_count = 10
#vmware_tmp_dir = /tmp
#vmware_image_transfer_timeout_secs = 7200
#vmware_task_poll_interval = 0.5
#vmware_max_objects_retrieval = 100
#vmware_volume_folder = cinder-volumes
#volume_driver = cinder.volume.drivers.vmware.vmdk.VMwareVcVmdkDriver
#vmware_host_ip = &lt;ip_address_of_vcenter&gt;
#vmware_host_username = &lt;vcenter_username&gt;
#vmware_host_password = &lt;password&gt;
#
#volume_backend_name = &lt;vmdk-backend-name&gt;
#
# End of section for VMDK block storage</codeblock></li>
      </ol>
    </p>
    <p id="commit-your-cloud" class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:49;479:31"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:26;479:34">Commit your Cloud Definition</b></p>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:50;480:8">
      <ol class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ol:11;481:11">
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:57;482:13"> Add the cloud deployment definition to the git
          :<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:30;483:23">cd /home/stack/helion/hos/ansible;
git add -A;
git commit -m 'Adding ESX Configurations or other commit message';</codeblock></li>
        <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:58;486:13">Prepare your environment for deployment:
          <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:31;487:22">ansible-playbook -i hosts/localhost config-processor-run.yml;
ansible-playbook -i hosts/localhost ready-deployment.yml;
cd /home/stack/scratch/ansible/next/hos/ansible;</codeblock></li>
      </ol>
    </p>
    <p id="deploy-compute-proxy-ovsvapps" class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:51;492:43"><b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:27;492:46">Deploy ESX Compute Proxy and OVSvApps</b></p>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:52;493:8">Execute the following command to deploy a esx compute and
      OVSvApps:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:32;494:27">ansible-playbook -i hosts/verb_hosts guard-deployment.yml
ansible-playbook -i hosts/verb_hosts osconfig-run.yml --limit '*<b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:28;495:68">esx-ovsvapp:*esx-compute</b>'
ansible-playbook -i hosts/verb_hosts hlm-deploy.yml --limit NOV-ESX:NEU-OVSVAPP
ansible-playbook -i hosts/verb_hosts cinder-reconfigure.yml</codeblock></p>
    <note class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="note:7;498:11">The variable <b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:29;498:27">esx-ovsvapp</b> and <b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:30;498:50">esx-compute</b> must be taken from the <b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:31;498:92">name</b>
      key in the <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:33;499:26">resource-nodes</codeph> section in the
        <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:34;500:17">/data/control_plane.yml</codeph> file
        (<codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:35;501:18">/home/stack/helion/my_cloud/definition/data/control_plane.yml</codeph>). </note>
    <section id="host-commissioning" class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="section:17;502:38">
      <title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="title:6;503:14">ESX Host Commissioning (Optional)</title>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:53;504:10">ESX Host Commissioning is a functionality provided to a user to add additional ESX hosts to
        an already activated cluster. You can add ESX host to an already activated cluster if
        OVSvApp is installed in the host. With the OVSvApp installed, you can connect the tenant VMs
        which are being created on that host to the tenant network.</p>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:54;508:10">The following steps provides a detailed procedure on how to commission a new a host to an
        already activated cluster.<ol id="ol_fmg_z5q_lt" class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="ol:12;509:58">
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:59;510:15">List the current state of the cluster using EON python
              client.<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:33;511:33"># eon cluster-list --vcenter-id &lt;vCenter ID&gt;</codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:55;511:95">For
              example:</p><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:34;512:38"># eon cluster-list --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674
+------------+------------+-----------------+-----------------+
| MOID       | Name       | Datacenter      | Import Status   |
+------------+------------+-----------------+-----------------+
| domain-c21 | Cluster1   | DC1             | activated       |
+------------+------------+-----------------+-----------------+</codeblock></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:60;518:15">Add host in the maintenance mode to the already activated cluster as shown in the
            following example.<p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:56;519:34"><image href="../media/esx/eon_service_host1.png" id="image_it1_3bp_lt" placement="inline" class="- topic/image " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="image:2;520:40"/></p></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:61;521:15">Execute the following command to import the eon
              cluster.<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:35;522:34"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:36;522:42"># eon cluster-import --vcenter-id &lt;vCenter ID&gt; --cluster-name &lt;Cluster Name&gt; --cluster-moid &lt;Cluster Moid&gt;</codeph></codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:57;522:181">For
              example:</p><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:36;523:38"># eon cluster-import --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674 --cluster-name Cluster1 --cluster-moid domain-c21
+--------------+-----------+
| Property     | Value     |
+--------------+-----------+
| cpu_free     | 83071.73  |
| cpu_total    | 83072     |
| cpu_used     | 0.27      |
| datacenter   | DC1       |
| disk_free    | 1022.79   |
| disk_total   | 1023.75   |
| errors       | []        |
| memory_free  | 496.82    |
| memory_total | 511.76    |
| memory_used  | 14.94     |
| name         | Cluster1  |
| state        | importing |
| switches     | []        |
+--------------+-----------+</codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:58;540:44">After
              successful import the cluster state will change to partially_activated and the hosts
              would have moved to folder with ovsvapp installed.</p></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:62;543:15">To know the cluster state, execute the following
              command:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:37;544:34"># eon cluster-list --vcenter-id &lt;vCenter ID&gt;</codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:59;544:96">For
              example:</p><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:38;545:38"># eon cluster-list --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674
+------------+----------+------------+---------------------+
| MOID       | Name     | Datacenter | Import Status       |
+------------+----------+------------+---------------------+
| domain-c21 | Cluster1 | DC1        | partially_activated |
+------------+----------+------------+---------------------+</codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:60;550:76"><image href="../media/esx/eon_service_host2.png" id="image_ush_nbp_lt" placement="inline" class="- topic/image " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="image:3;551:82"/></p></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:63;552:15">Run cluster activate
              command.<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:39;553:34"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:37;553:42"># eon cluster-activate --vcenter-id &lt;vCenter ID&gt; --cluster-moid &lt;Cluster Moid&gt; </codeph></codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:61;553:151">For
              example:</p><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:40;554:38">eon cluster-activate --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674 --cluster-moid domain-c22</codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:62;554:149">After
              successful activation the cluster state will change to activated state.</p></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:64;556:15">To know whether the cluster is activate or not, execute the following
              command:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:41;557:34"># eon cluster-list --vcenter-id &lt;vCenter ID&gt;</codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:63;557:96">For
              example:</p><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:42;558:38"># eon cluster-list --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674
+------------+----------+------------+---------------------+
| MOID       | Name     | Datacenter | Import Status       |
+------------+----------+------------+---------------------+
| domain-c21 | Cluster1 | DC1        | activated           |
+------------+----------+------------+---------------------+</codeblock></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:65;564:15">Commit your cloud deploy configuration to the<xref href="using_git.dita#topic_u3v_1yz_ct" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="xref:18;565:54" type="topic"><?ditaot usertext?> local git repo</xref>, as follows:
            <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:43;566:24">cd ~/helion/hos/ansible
git add -A
git commit -m "My config or other commit message"</codeblock></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:66;569:15">Prepare your environment for deployment:
            <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:44;570:24">ansible-playbook -i hosts/localhost config-processor-run.yml;
ansible-playbook -i hosts/localhost ready-deployment.yml;
cd /home/stack/scratch/ansible/next/hos/ansible;</codeblock></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:67;573:15">Run the following
            playbook:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:45;574:33">ansible-playbook -i hosts/verb_hosts guard-deployment.yml
ansible-playbook -i hosts/verb_hosts osconfig-run.yml --limit '*esx-ovsvapp'
ansible-playbook -i hosts/verb_hosts hlm-deploy.yml --limit NEU-OVSVAPP</codeblock></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="li:68;577:15">After successful deployment of the <b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="b:32;577:53">hlm-deploy</b>, execute the following command
            from the deployer
              node.<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:46;579:31"># eon move-hosts -vcenter-id &lt;vCenter ID&gt; --host &lt;host IP&gt; --status &lt;Status of deployment&gt;</codeblock><note class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="note:8;579:149">The
              status can be "failure "or "success" based on the deployment.</note><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:64;580:86">For example:
              </p><codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeblock:47;581:30"># eon move-hosts -vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674 --host 100.10.0.50 --status SUCCESS</codeblock><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:65;581:147">The
              host will be moved back to the original cluster as shown below:</p><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:66;582:85"><image href="../media/esx/eon_service_host3.png" id="image_xhw_pbp_lt" placement="inline" class="- topic/image " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="image:4;583:82"/></p><p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:67;583:89">
              <note type="tip" class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="note:9;584:32">You can get the host IP address from
                  <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:38;585:27">pass_through.yml</codeph> file at
                  <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="codeph:39;586:27">/home/stack/helion/definition/data/</codeph> as shown below. <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="p:68;586:91"><image href="../media/esx/host_ip_add.png" id="image_dm5_4np_lt" placement="inline" class="- topic/image " xtrf="C:\Users\sharmabi\git\documentation\helion\bare_installation_esx.dita" xtrc="image:5;587:80"/></p></note>
            </p></li>
        </ol></p>
    </section>
  </body>
</topic>