
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="The HPE Helion OpenStack 2.0 EON (ESX on boarding) service is an inventory service, which interacts with the VMware vCenter server, and collects available information from data centers, clusters, ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="DC.Type" content="topic"></meta><meta name="DC.Title" content="HPE Helion OpenStack 2.0: ESX ON-Boarding Service (EON)"></meta><meta name="prodname" content="HPE Helion"></meta><meta name="version" content="4.1.0"></meta><meta name="copyright" content="HPE Helion 2015" type="primary"></meta><meta name="DC.Rights.Owner" content="HPE Helion 2015" type="primary"></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="topic_x2x_vy4_lt"></meta><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>HPE Helion OpenStack 2.0: ESX ON-Boarding Service (EON)</title><!--  Generated with Oxygen version 17.0, build number 2015072912.  --><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/skins/skin.css"><!----></link><script type="text/javascript"><!--
          
          var prefix = "../../index.html";
          
          --></script><script type="text/javascript" src="../../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="topic_x2x_vy4_lt">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"></td><td><div class="navheader"></div></td></tr></tbody></table>

  <h1 class="title topictitle1">HPE Helion OpenStack<sup>Â®</sup> 2.0: ESX ON-Boarding Service (EON)</h1>

  <div class="body">
    <p class="p">The HPE Helion OpenStack 2.0 EON (ESX on boarding) service is an inventory service, which
      interacts with the VMware vCenter server, and collects available information from data
      centers, clusters, datastore, dvSwitch and portgroup details. When a cloud administrator wants
      a particular cluster to be a compute resource in HPE Helion Openstack 2.0, EON provisions the
      Nova proxy service VM for each cluster, and OVSvApp service VM, for each ESX host in that
      cluster.</p>

    <p class="p">The integration of EON with HPE Helion OpenStack 2.0 automates the steps for moving/adding a
      cluster in a compute resource. To use this functionality, you must run a few EON commands.</p>

    <p class="p">Moreover, EON is not installed by default. To install EON service, you must uncomment the
        <samp class="ph systemoutput">eon-deploy.yml</samp> file at
        <samp class="ph systemoutput">~/helion/hos/ansible/hlm-deploy.yml</samp> in the
      deployer/lifecycle-manager node. For instructions, see <a class="xref" href="../installation/install_entryscale_esx.html#install_esx">HPE Helion OpenStack 2.0: Installation for Helion Entry-scale Cloud with ESX</a>.</p>

    <div class="section"><h2 class="title sectiontitle"><strong class="ph b">Architecture</strong></h2>
      
      <p class="p">EON is installed on the master control plane node, and the EON CLI is installed on the HLM
        deployer/lifecycle-manager node, used by the Cloud Admin to setup vCenter Compute Proxy and
        OvsvApp nodes.</p>

      <p class="p"><img class="image" src="../../media/esx/eon_arch_diagram.png"></img></p>

    </div>

    <div class="section"><h2 class="title sectiontitle">EON CLI Operations</h2><div class="p">The EON client CLI package provides an http-client coupled command-line tool for managing EON
        (ESX management) services. This topic contains information about the following:<ol class="ol" id="topic_x2x_vy4_lt__ol_d1l_ygf_rt">
          <li class="li"><a class="xref" href="#topic_x2x_vy4_lt__vcenter-operations">vCenter
              Operations</a></li>

          <li class="li"><a class="xref" href="#topic_x2x_vy4_lt__cluster-operations">Cluster
              Operations</a></li>

          <li class="li"><a class="xref" href="#topic_x2x_vy4_lt__network-operations">Network
              Operations</a></li>

        </ol>
</div>
<div class="sectiondiv"><strong class="ph b">vCenter Operations</strong></div><div class="p">VMware
        vCenter is an appliance that is used to manage multiple ESXi hosts through a single console
        application. VMware ESXi is a visualization platform on which you create and run virtual
        machines. VMware vCenter acts as a central administrator for ESXi hosts that are connected
        on a network. You can pool and manage the resources of multiple ESXi hosts while monitoring
        and managing your physical and virtual infrastructure.<ul class="ul" id="topic_x2x_vy4_lt__ul_uwj_4hf_rt">
          <li class="li">Register/Add a vCenter<div class="p">You can add the vCenter using EON python client. You must
              enter all of the arguments to add the vCenter; otherwise you will be prompted to enter
              them.<pre class="pre codeblock"># eon vcenter-add --name &lt;vCenter Name&gt; --ip-address &lt;vCenter IP address&gt; --username &lt;vCenter Username&gt; --password &lt;vCenter Password&gt; --port &lt;vCenter Port&gt;</pre>
</div>
where:<ul class="ul" id="topic_x2x_vy4_lt__ul_xzl_23f_rt">
              <li class="li">vCenter Name - The identical name of the vCenter server.</li>

              <li class="li">vCenter IP address - The IP address of the vCenter server.</li>

              <li class="li">vCenter Username - The admin privilege username for the vCenter.</li>

              <li class="li">vCenter Password - The password for the above username.</li>

              <li class="li">vCenter Port - The vCenter server port. By default it is 443. <div class="note important"><span class="importanttitle">Important:</span> Please do not change the port unless you are sure about the
                  vCenter Port.</div>
</li>

            </ul>
<div class="p"><strong class="ph b">Example
              Output</strong>:<pre class="pre codeblock"><samp class="ph codeph"># eon vcenter-add --name vc01 --ip-address 10.1.200.41 --username administrator@vsphere.local --password password --port 443</samp>
+------------+--------------------------------------+
| Property   | Value                                |
+------------+--------------------------------------+
| created_at | 2015-08-20T12:08:09.000000           |
| deleted    | False                                |
| deleted_at | None                                 |
| id         | BC9DED4E-1639-481D-B190-2B54A2BF5674 |
| ip_address | 10.1.200.41                          |
| name       | vc01                                 |
| password   | &lt;SANITIZED&gt;                          |
| port       | 443                                  |
| type       | vcenter                              |
| updated_at | 2015-08-20T12:08:09.000000           |
| username   | administrator@vsphere.local          |
+------------+--------------------------------------+</pre>
</div>
</li>

        </ul>
</div>
<ul class="ul" id="topic_x2x_vy4_lt__ul_x3d_p3f_rt">
        <li class="li">List the vCenter<div class="p">Lists all the vCenters in your cloud
            environment.<pre class="pre codeblock"># eon vcenter-list</pre>
</div>
<div class="p"><strong class="ph b">Example
            Output:</strong><pre class="pre codeblock"># eon vcenter-list
+--------------------------------------+------+-------------+---------------------+---------------------+
| ID                                   | Name | IP Address  | Created             | Modified            |
+--------------------------------------+------+-------------+---------------------+---------------------+
| BC9DED4E-1639-481D-B190-2B54A2BF5674 | vc01 | 10.1.200.41 | 2015-10-07 04:46:22 | 2015-10-07 04:46:22 |
+--------------------------------------+------+-------------+---------------------+---------------------+
</pre>
</div>
</li>

      </ul>
<ul class="ul" id="topic_x2x_vy4_lt__ul_jwq_fjf_rt">
        <li class="li">Show a vCenter details<div class="p">Shows the details of the specific
            vCenter.<pre class="pre codeblock"># eon vcenter-show &lt;vCenter ID&gt;</pre>
</div>
<div class="p">where:<ul class="ul" id="topic_x2x_vy4_lt__ul_ajm_rjf_rt">
              <li class="li">vCenter ID - The UUID of the vCenter (shown in the output of eon
                vcenter-list).</li>

            </ul>
</div>
<div class="p"><strong class="ph b">Example
            Output</strong><pre class="pre codeblock"><samp class="ph codeph"># eon vcenter-show BC9DED4E-1639-481D-B190-2B54A2BF5674 </samp>
+------------+--------------------------------------+
| Property   | Value                                |
+------------+--------------------------------------+
| created_at | 2015-08-20T12:08:09.000000           |
| git| DC1                                  |
| deleted    | False                                |
| deleted_at | None                                 |
| id         | BC9DED4E-1639-481D-B190-2B54A2BF5674 |
| ip_address | 10.1.200.41                          |
| name       | vc01                                 |
| password   | &lt;SANITIZED&gt;                          |
| port       | 443                                  |
| type       | vcenter                              |
| updated_at | 2015-08-20T12:08:09.000000           |
| username   | administrator@vsphere.local          |
+------------+--------------------------------------+</pre>
</div>
</li>

      </ul>
<ul class="ul" id="topic_x2x_vy4_lt__ul_hyl_yjf_rt">
        <li class="li">Update a vCenter<div class="p">Updates the registered vCenterâs attribute (such as name, username,
            password,
            port).<pre class="pre codeblock"># eon vcenter-update --name &lt;vCenter Name&gt; --ip-address &lt;vCenter IP address&gt; --username &lt;vCenter Username&gt; --password &lt;vCenter Password&gt; --port &lt;vCenter Port&gt; &lt;vCenter ID&gt;</pre>
</div>
<div class="p"><strong class="ph b">Example
              Output</strong>:<pre class="pre codeblock"># eon vcenter-update --name vc02 --ip-address 10.1.200.41 --username administrator@vsphere.local --password password --port 443 BC9DED4E-1639-481D-B190-2B54A2BF5674
+------------+--------------------------------------+
| Property   | Value                                |
+------------+--------------------------------------+
| created_at | 2015-08-20T12:08:09.000000           |
| deleted    | False                                |
| deleted_at | None                                 |
| id         | BC9DED4E-1639-481D-B190-2B54A2BF5674 |
| ip_address | 10.1.200.41                          |
| name       | vc02                                 |
| password   | &lt;SANITIZED&gt;                          |
| port       | 443                                  |
| type       | vcenter                              |
| updated_at | 2015-08-20T12:08:09.000000           |
| username   | administrator@vsphere.local          |
+------------+--------------------------------------+</pre>
</div>
</li>

      </ul>
<ul class="ul" id="topic_x2x_vy4_lt__ul_bxf_mkf_rt">
        <li class="li">Delete a vCenter<div class="p">
            <div class="note important"><span class="importanttitle">Important:</span> If you have any imported clusters, ensure that you have
              deactivated them and then un-import the cluster(s) before running the delete
              command.</div>

          </div>
<div class="p">Unregisters the specific vCenter. vCenter delete fails if you have any imported
            clusters that are activate
            clusters.<pre class="pre codeblock"># eon vcenter-delete &lt;vCenter ID&gt;</pre>
</div>
<div class="p"><strong class="ph b">Example
              Output</strong>:<pre class="pre codeblock"># eon vcenter-delete BC9DED4E-1639-481D-B190-2B54A2BF5674</pre>
</div>
</li>

      </ul>
</div>

    <div class="section"><div class="sectiondiv"><strong class="ph b">Cluster Operations</strong></div><div class="p">This section lists the cluster operations performed in a vCenter.<div class="note note"><span class="notetitle">Note:</span> No two clusters should
          have the same name across datacenters in a given vCenter.</div>
<ul class="ul" id="topic_x2x_vy4_lt__ul_dvm_rlf_rt">
          <li class="li">List clusters in a vCenter<div class="p">Displays a list of clusters in a specific
              vCenter.<pre class="pre codeblock"># eon cluster-list --vcenter-id &lt;vCenter ID&gt;</pre>
</div>
<p class="p"><strong class="ph b">Example
                Output</strong>:</p>
<div class="p">
              <pre class="pre codeblock"># eon cluster-list --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674
+------------+----------+------------+---------------+
| MOID       | Name     | Datacenter | Import Status |
+------------+----------+------------+---------------+
| domain-c21 | Cluster1 | DC1        | not_imported  |
+------------+----------+------------+---------------+</pre>

            </div>
</li>

        </ul>
</div>
<ul class="ul" id="topic_x2x_vy4_lt__ul_hlw_ylf_rt">
        <li class="li">Import cluster in a vCenter<div class="p">Import cluster allows you to import the clusters using EON
            CLI under the given vCenter. This operation provisions (creates) the plain shell VMs for
            compute proxy node and Ovsvapp nodes which are configured in later stages through HLM.
            The cluster state changes from not_imported to imported when you run the following
            command.<pre class="pre codeblock"># eon cluster-import --vcenter-id &lt;vCenter ID&gt; --cluster-name &lt;Cluster Name&gt; --cluster-moid &lt;Cluster Moid&gt;</pre>
</div>
<div class="p">Where:<ul class="ul" id="topic_x2x_vy4_lt__ul_tzq_mmf_rt">
              <li class="li">vCenter ID - ID of the vcenter containing the cluster.</li>

              <li class="li">Cluster Name - The name of the cluster that needs to be imported.</li>

              <li class="li">cluster Moid - Moid of the cluster that needs to be imported.</li>

            </ul>
</div>
<div class="p"><strong class="ph b">Example
            Output</strong>:<pre class="pre codeblock"># eon cluster-import --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674 --cluster-name Cluster1 --cluster-moid domain-c21
+--------------+-----------+
| Property     | Value     |
+--------------+-----------+
| cpu_free     | 83071.73  |
| cpu_total    | 83072     |
| cpu_used     | 0.27      |
| datacenter   | DC1       |
| disk_free    | 1022.79   |
| disk_total   | 1023.75   |
| errors       | []        |
| memory_free  | 496.82    |
| memory_total | 511.76    |
| memory_used  | 14.94     |
| name         | Cluster1  |
| state        | importing |
| switches     | []        |
+--------------+-----------+</pre>
</div>
</li>

      </ul>
<ul class="ul" id="topic_x2x_vy4_lt__ul_am4_4mf_rt">
        <li class="li">Unimport cluster in a vCenter<div class="p">Unimports the cluster in a specific vCenter. This
            operation de-provisions (deletes) the compute proxy node and Ovsvapp nodes. The cluster
            state changes from âimportedâ to ânot_importedâ when you execute the following
            command.<pre class="pre codeblock"># eon cluster-unimport --vcenter-id &lt;vCenter ID&gt; --cluster-moid &lt;Cluster Moid&gt;</pre>
</div>
<div class="p"><strong class="ph b">Example
              Output</strong>:<pre class="pre codeblock"># eon cluster-unimport --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674 --cluster-moid domain-c21
Cluster domain-c21 unimport initiated</pre>
</div>
</li>

      </ul>
<ul class="ul" id="topic_x2x_vy4_lt__ul_n5v_snf_rt">
        <li class="li">Activate cluster in a vCenter<div class="p">Activates the cluster in a specific vCenter. This
            operation updates the cloud definition (includes the node details in the
              <samp class="ph codeph">server.yml</samp> and <samp class="ph codeph">passthrough.yml</samp> files) for compute
            proxy node and Ovsvapp nodes. The cluster state changes from imported to activated when
            you run the following
            command.<pre class="pre codeblock"># eon cluster-activate --vcenter-id &lt;vCenter ID&gt; --cluster-moid &lt;Cluster Moid&gt; </pre>
</div>
<div class="p"><strong class="ph b">Example
              Output</strong>:<pre class="pre codeblock"># eon cluster-activate --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674 --cluster-moid domain-c22 
+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property      | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| node_info     | {u'computeproxy': {u'pxe-mac-addr': u'00:50:56:b6:ce:1b', u'pxe-ip-addr': u'172.170.2.4', u'name': u'COMPUTEPROXY_Cluster1', u'cluster-moid': u'domain-c21'}, u'network_driver': {u'cluster_dvs_mapping': u'DC1/host/Cluster1:hlm-Trunk', u'Cluster1': [{u'host-moid': u'host-29', u'pxe-ip-addr': u'172.170.2.3', u'esx_hostname': u'10.1.200.33', u'ovsvapp_node': u'ovsvapp-10-1-200-33', u'pxe-mac-addr': u'00:50:56:b6:5e:9a'}, {u'host-moid': u'host-25', u'pxe-ip-addr': u'172.170.2.2', u'esx_hostname': u'10.1.200.66', u'ovsvapp_node': u'ovsvapp-10-1-200-66', u'pxe-mac-addr': u'00:50:56:b6:56:e6'}]}} |
| resource_moid | domain-c21                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| resource_name | Cluster1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| state         | activated                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</pre>
</div>
</li>

        <li class="li">Deactivate cluster in a vCenter<div class="p">Deactivates the cluster in a specific vCenter. This
            operation updates the cloud definition (removes the node details in
              <samp class="ph codeph">server.yml</samp> and <samp class="ph codeph">passthrough.yml</samp> files) for compute
            proxy node and Ovsvapp nodes. The cluster state changes from âactivatedâ to âimportedâ
            when you execute the following
            command.<pre class="pre codeblock"># eon cluster-deactivate --vcenter-id &lt;vCenter ID&gt; --cluster-moid &lt;Cluster Moid&gt; </pre>
</div>
<div class="p"><strong class="ph b">Example
              Output</strong>:<pre class="pre codeblock"># eon cluster-activate --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674 --cluster-moid domain-c22 
+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Property      | Value                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| node_info     | {u'computeproxy': {u'pxe-mac-addr': u'00:50:56:b6:ce:1b', u'pxe-ip-addr': u'172.170.2.4', u'name': u'COMPUTEPROXY_Cluster1', u'cluster-moid': u'domain-c21'}, u'network_driver': {u'cluster_dvs_mapping': u'DC1/host/Cluster1:hlm-Trunk', u'Cluster1': [{u'host-moid': u'host-29', u'pxe-ip-addr': u'172.170.2.3', u'esx_hostname': u'10.1.200.33', u'ovsvapp_node': u'ovsvapp-10-1-200-33', u'pxe-mac-addr': u'00:50:56:b6:5e:9a'}, {u'host-moid': u'host-25', u'pxe-ip-addr': u'172.170.2.2', u'esx_hostname': u'10.1.200.66', u'ovsvapp_node': u'ovsvapp-10-1-200-66', u'pxe-mac-addr': u'00:50:56:b6:56:e6'}]}} |
| resource_moid | domain-c21                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| resource_name | Cluster1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| state         | imported                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+---------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</pre>
</div>
</li>

      </ul>
<div class="sectiondiv"><strong class="ph b">Network Operations</strong></div><div class="p">This process involves getting a sample network information template.<ul class="ul" id="topic_x2x_vy4_lt__ul_u3m_t4f_rt">
          <li class="li">Get network info template<div class="p">Saves the sample network <samp class="ph codeph">config. json</samp>
              file to the mentioned file
              (NETWORK_CONF_FILENAME).<pre class="pre codeblock"># eon get-network-info-template --filename &lt;NETWORK_CONF_FILENAME&gt;</pre>
</div>
<div class="p"><strong class="ph b">Example
                Output</strong>:<pre class="pre codeblock"># eon get-network-info-template --filename net_conf.json
---------------------------------------------------------------
Saved the sample file to net_conf.json
---------------------------------------------------------------</pre>
</div>
</li>

        </ul>
</div>
<ul class="ul" id="topic_x2x_vy4_lt__ul_m5q_hqf_rt">
        <li class="li">List the network details for a datacenter<div class="p"> Shows the persisted network details for a
            datacenter in the
            vCenter.<pre class="pre codeblock"># eon list-network-info âvcenter-id &lt;vCenter ID&gt; --datacenter-name &lt;Datacenter Name&gt;</pre>
</div>
<div class="p">where:<ul class="ul" id="topic_x2x_vy4_lt__ul_aqv_4qf_rt">
              <li class="li">vCenter ID - ID of the vcenter containing the cluster.</li>

              <li class="li">Datacenter Name â Datacenter name of the vCenter where the clusters (to be used
                for compute resource) resides.</li>

            </ul>
</div>
<div class="p"><strong class="ph b">Example
            Output</strong>:<pre class="pre codeblock"># eon list-network-info âvcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674 --datacenter-name DC1
---------------------------------------------------------------
{
  "computeproxy": {
    "name": "computeproxy",
    "network": {
      "deployer_network": {
        "deployer_cidr": "172.170.2.0/24",
        "deployer_gateway_ip": "172.170.2.1",
        "deployer_node_ip": "172.170.1.10",
        "deployer_pg_name": "hlm-Deployer-PG",
        "deployer_vlan": "1702",
        "enable_deployer_dhcp": "no"
      },
      "management_network": {
        "active_nics": "",
        "load_balancing": "1",
        "mgmt_dvs_name": "hlm-Mgmt",
        "mgmt_interface_order": "eth1",
        "mgmt_nic_name": "vmnic1",
        "mgmt_pg_name": "hlm-Mgmt-PG",
        "network_failover_detection": "1",
        "notify_switches": "yes"
      }
    },
    "template": {
      "template_name": "hlm-template"
    },
    "vmconfig": {
      "cpu": "4",
      "memory_in_mb": "4096",
      "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDIdiaApE5m7OqSTX+TqDKSWhnld2MIpzKl/b4IWrRGG4D/H1WgsrlRbWM3oA0NA+RRc5MnsN642DhCXvbFhOjSkj+L6hOK325nPUY5KWqndv8CA7rET9HpcfMHykYODZRQnRns6WEl9e96MHjFE2nxy/cWp77ItD+x0+Nspa3zKEckV/x5tV3JpdTpi5JlXAyNdNnh6YW5Pq0xYUzK1wkwCdBRKZesjGOPb5m+xSGZf+PnolJqQO3QJcCOyRSFFmb1wFXnOQmR4X4WZXmDvf2SgKYJM/bseFAwL2sSk3TZwdpKhmgqXX7SQnHAtbIXanITYndtHMnRmDjlwqKVAgBR stack@hlm"
    }
  },
  "driver": {
    "name": "ovsvapp",
    "network": {
      "data_network": {
        "active_nics": "vmnic2",
        "data_dvs_name": "hlm-Data",
        "data_interface_order": "eth2",
        "data_nic_name": "vmnic2",
        "data_pg_name": "hlm-Data-PG",
        "load_balancing": "1",
        "network_failover_detection": "1",
        "notify_switches": "yes",
        "tenant_network_type": "vlan"
      },
      "deployer_network": {
        "deployer_cidr": "172.170.2.0/24",
        "deployer_gateway_ip": "172.170.2.1",
        "deployer_node_ip": "172.170.1.10",
        "deployer_pg_name": "hlm-Deployer-PG",
        "deployer_vlan": "1702",
        "enable_deployer_dhcp": "no"
      },
      "hpvcn_trunk_network": {
        "trunk_dvs_name": "hlm-Trunk",
        "trunk_interface_order": "eth3",
        "trunk_pg_name": "hlm-Trunk-PG"
      },
      "management_network": {
        "active_nics": "",
        "load_balancing": "1",
        "mgmt_dvs_name": "hlm-Mgmt",
        "mgmt_interface_order": "eth1",
        "mgmt_nic_name": "vmnic1",
        "mgmt_pg_name": "hlm-Mgmt-PG",
        "network_failover_detection": "1",
        "notify_switches": "yes"
      },
      "vlan_range": "1-4094"
    },
    "template": {
      "template_name": "hlm-template"
    },
    "vmconfig": {
      "cpu": "4",
      "memory_in_mb": "4096",
      "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDIdiaApE5m7OqSTX+TqDKSWhnld2MIpzKl/b4IWrRGG4D/H1WgsrlRbWM3oA0NA+RRc5MnsN642DhCXvbFhOjSkj+L6hOK325nPUY5KWqndv8CA7rET9HpcfMHykYODZRQnRns6WEl9e96MHjFE2nxy/cWp77ItD+x0+Nspa3zKEckV/x5tV3JpdTpi5JlXAyNdNnh6YW5Pq0xYUzK1wkwCdBRKZesjGOPb5m+xSGZf+PnolJqQO3QJcCOyRSFFmb1wFXnOQmR4X4WZXmDvf2SgKYJM/bseFAwL2sSk3TZwdpKhmgqXX7SQnHAtbIXanITYndtHMnRmDjlwqKVAgBR stack@hlm"
    }
  }
}
---------------------------------------------------------------</pre>
</div>
</li>

        <li class="li">
          <p class="p"> Create network for a datacenter</p>

          <div class="p">Creates the required distributed virtual switches and portgroups as per the network
            json
            file.<pre class="pre codeblock"># eon set-network-info --vcenter-id &lt;vCenter ID&gt; --datacenter-name &lt;datacenter name&gt; --config-json &lt;NETWORK_CONF_FILENAME&gt;</pre>
</div>

          <div class="p"><strong class="ph b">Example
            Output</strong>:<pre class="pre codeblock"># eon set-network-info âvcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674 --datacenter-name DC1 --config-json net_conf.json
---------------------------------------------------------------
{
  "computeproxy": {
    "name": "computeproxy",
    "network": {
      "deployer_network": {
        "deployer_cidr": "172.170.2.0/24",
        "deployer_gateway_ip": "172.170.2.1",
        "deployer_node_ip": "172.170.1.10",
        "deployer_pg_name": "hlm-Deployer-PG",
        "deployer_vlan": "1702",
        "enable_deployer_dhcp": "no"
      },
      "management_network": {
        "active_nics": "",
        "load_balancing": "1",
        "mgmt_dvs_name": "hlm-Mgmt",
        "mgmt_interface_order": "eth1",
        "mgmt_nic_name": "vmnic1",
        "mgmt_pg_name": "hlm-Mgmt-PG",
        "network_failover_detection": "1",
        "notify_switches": "yes"
      }
    },
    "template": {
      "template_name": "hlm-template"
    },
    "vmconfig": {
      "cpu": "4",
      "memory_in_mb": "4096",
      "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDIdiaApE5m7OqSTX+TqDKSWhnld2MIpzKl/b4IWrRGG4D/H1WgsrlRbWM3oA0NA+RRc5MnsN642DhCXvbFhOjSkj+L6hOK325nPUY5KWqndv8CA7rET9HpcfMHykYODZRQnRns6WEl9e96MHjFE2nxy/cWp77ItD+x0+Nspa3zKEckV/x5tV3JpdTpi5JlXAyNdNnh6YW5Pq0xYUzK1wkwCdBRKZesjGOPb5m+xSGZf+PnolJqQO3QJcCOyRSFFmb1wFXnOQmR4X4WZXmDvf2SgKYJM/bseFAwL2sSk3TZwdpKhmgqXX7SQnHAtbIXanITYndtHMnRmDjlwqKVAgBR stack@hlm"
    }
  },
  "driver": {
    "name": "ovsvapp",
    "network": {
      "data_network": {
        "active_nics": "vmnic2",
        "data_dvs_name": "hlm-Data",
        "data_interface_order": "eth2",
        "data_nic_name": "vmnic2",
        "data_pg_name": "hlm-Data-PG",
        "load_balancing": "1",
        "network_failover_detection": "1",
        "notify_switches": "yes",
        "tenant_network_type": "vlan"
      },
      "deployer_network": {
        "deployer_cidr": "172.170.2.0/24",
        "deployer_gateway_ip": "172.170.2.1",
        "deployer_node_ip": "172.170.1.10",
        "deployer_pg_name": "hlm-Deployer-PG",
        "deployer_vlan": "1702",
        "enable_deployer_dhcp": "no"
      },
      "hpvcn_trunk_network": {
        "trunk_dvs_name": "hlm-Trunk",
        "trunk_interface_order": "eth3",
        "trunk_pg_name": "hlm-Trunk-PG"
      },
      "management_network": {
        "active_nics": "",
        "load_balancing": "1",
        "mgmt_dvs_name": "hlm-Mgmt",
        "mgmt_interface_order": "eth1",
        "mgmt_nic_name": "vmnic1",
        "mgmt_pg_name": "hlm-Mgmt-PG",
        "network_failover_detection": "1",
        "notify_switches": "yes"
      },
      "vlan_range": "1-4094"
    },
    "template": {
      "template_name": "hlm-template"
    },
    "vmconfig": {
      "cpu": "4",
      "memory_in_mb": "4096",
      "ssh_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDIdiaApE5m7OqSTX+TqDKSWhnld2MIpzKl/b4IWrRGG4D/H1WgsrlRbWM3oA0NA+RRc5MnsN642DhCXvbFhOjSkj+L6hOK325nPUY5KWqndv8CA7rET9HpcfMHykYODZRQnRns6WEl9e96MHjFE2nxy/cWp77ItD+x0+Nspa3zKEckV/x5tV3JpdTpi5JlXAyNdNnh6YW5Pq0xYUzK1wkwCdBRKZesjGOPb5m+xSGZf+PnolJqQO3QJcCOyRSFFmb1wFXnOQmR4X4WZXmDvf2SgKYJM/bseFAwL2sSk3TZwdpKhmgqXX7SQnHAtbIXanITYndtHMnRmDjlwqKVAgBR stack@hlm"
    }
  }
}
---------------------------------------------------------------</pre>
</div>

        </li>

      </ul>
<ul class="ul" id="topic_x2x_vy4_lt__ul_hd1_zqf_rt">
        <li class="li">Delete network for a datacenter<div class="p">Deletes the distributed virtual switches and
            portgroups created for the Compute proxy and Ovsvapp
            nodes.<pre class="pre codeblock"># eon delete-network-info --vcenter-id &lt;vCenter ID&gt; --datacenter-name &lt;datacenter name&gt; </pre>
</div>
<div class="p"><strong class="ph b">Example
              Output</strong>:<pre class="pre codeblock"># eon delete-network-info --vcenter-id BC9DED4E-1639-481D-B190-2B54A2BF5674 --datacenter-name DC1 
Successfully deleted network info of vCenter: BC9DED4E-1639-481D-B190-2B54A2BF5674</pre>
</div>
</li>

      </ul>
</div>

    <div class="section"><h2 class="title sectiontitle">EON REST APIs</h2>
      
      <div class="p">
        <table cellpadding="4" cellspacing="0" summary="" id="topic_x2x_vy4_lt__simpletable_cw3_5rf_rt" border="1" class="simpletable"><tr class="strow">
            <td valign="top" class="stentry" width="14.47178002894356%"><strong class="ph b">Method</strong>
            </td>

            <td valign="top" class="stentry" width="60.49204052098408%"><strong class="ph b">URI</strong></td>

            <td valign="top" class="stentry" width="25.036179450072357%"><strong class="ph b">Description</strong></td>

          </tr>
<tr class="strow">
            <td valign="top" class="stentry">GET</td>

            <td valign="top" class="stentry"><samp class="ph codeph">/vcenters</samp></td>

            <td valign="top" class="stentry">Lists vCenter Servers registered with Cloud Controller.</td>

          </tr>
<tr class="strow">
            <td valign="top" class="stentry">POST</td>

            <td valign="top" class="stentry"><samp class="ph codeph">/vcenters</samp></td>

            <td valign="top" class="stentry">Registers a vCenter Server with Cloud Controller.</td>

          </tr>
<tr class="strow">
            <td valign="top" class="stentry">PUT</td>

            <td valign="top" class="stentry"><samp class="ph codeph">/vcenters/{vcenter_id}</samp></td>

            <td valign="top" class="stentry">Updates a specified vCenter Server registered with Cloud Controller.</td>

          </tr>
<tr class="strow">
            <td valign="top" class="stentry">GET</td>

            <td valign="top" class="stentry"><samp class="ph codeph">/vcenters/{vcenter_id}</samp></td>

            <td valign="top" class="stentry">Shows information for a specified vCenter Server registered with Cloud
              Controller.</td>

          </tr>
<tr class="strow">
            <td valign="top" class="stentry">DELETE</td>

            <td valign="top" class="stentry"><samp class="ph codeph">/vcenters/{vcenter_id}</samp></td>

            <td valign="top" class="stentry">Deletes a specified vCenter Server registered with Cloud Controller.</td>

          </tr>
<tr class="strow">
            <td valign="top" class="stentry">GET</td>

            <td valign="top" class="stentry"><samp class="ph codeph">/vcenters/{vcenter_id}/clusters</samp></td>

            <td valign="top" class="stentry">Lists All Clusters Activated / Imported in Cloud Controller.</td>

          </tr>
<tr class="strow">
            <td valign="top" class="stentry">POST</td>

            <td valign="top" class="stentry"><samp class="ph codeph">/vcenters/{vcenter_id}/clusters</samp></td>

            <td valign="top" class="stentry">Creates the shell VMs for proxy and oVSvAPP nodes and registers the cluster as
                <strong class="ph b">imported</strong>.</td>

          </tr>
<tr class="strow">
            <td valign="top" class="stentry">PUT</td>

            <td valign="top" class="stentry"><samp class="ph codeph">/vcenters/{vcenter_id}/clusters/{cluster_id}</samp></td>

            <td valign="top" class="stentry">Updates a specified clusterâs state.</td>

          </tr>
<tr class="strow">
            <td valign="top" class="stentry">GET</td>

            <td valign="top" class="stentry"><samp class="ph codeph">/vcenters/{vcenter_id}/clusters/{cluster_id}</samp></td>

            <td valign="top" class="stentry">Shows information for a specified cluster in vCenter server.</td>

          </tr>
<tr class="strow">
            <td valign="top" class="stentry">DELETE</td>

            <td valign="top" class="stentry"><samp class="ph codeph">/vcenters/{vcenter_id}/Clusters/{cluster_id}</samp></td>

            <td valign="top" class="stentry">Deleted the proxy and OVSvAPP nodes and registers a cluster as
                <strong class="ph b">not_imported</strong>.</td>

          </tr>
</table>

      </div>

    </div>

    <div class="p">Using EON CLI you can perform the following functions:<ul class="ul" id="topic_x2x_vy4_lt__ul_hbv_qtf_rt">
        <li class="li"><a class="xref" href="esx_host_commissioning.html#topic_nfp_xtf_rt">HPE Helion OpenStack 2.0: ESX Host Commissioning</a></li>

        <li class="li"><a class="xref" href="enable_new_cluster_compute_resource.html#topic_l5t_w5f_rt">HPE Helion OpenStack 2.0: Enabling a New Cluster as a Compute Resource</a></li>

        <li class="li"><a class="xref" href="remove_existing_cluster_compute_resource_pool.html#topic_lfq_3wf_rt">HPE Helion OpenStack 2.0: Removing a Cluster from the Compute Resource Pool</a></li>

        <li class="li"><a class="xref" href="removing_esx_host_from_cluster.html#topic_srg_d5h_rt">HPE Helion OpenStack 2.0: Removing an ESX Host from a Cluster</a></li>

        <li class="li"><a class="xref" href="logging.html#topic_rq3_mxh_rt">HPE Helion OpenStack 2.0: Enabling Debug Logging</a></li>

      </ul>
</div>

  </div>

<div class="navfooter"><!----></div><div class="footer">WebHelp output generated by<a class="oxyFooter" href="http://www.oxygenxml.com" target="_blank"><span class="oXygenLogo"><img src="../../oxygen-webhelp/resources/img/LogoOxygen100x22.png" alt="Oxygen"></img></span><span class="xmlauthor">XML Author</span></a></div>
</body>
</html>