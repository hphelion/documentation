
<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
<head><meta name="description" content="In HPE Helion OpenStack 2.0, sensitive connection data is encrypted. The passwords that are encrypted include: Inter-service passwords generated by the Configuration Processor (Keystone, MySQL, ..."></meta><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><meta name="DC.Type" content="topic"></meta><meta name="DC.Title" content="HPE Helion OpenStack 2.0: Encryption of Passwords and Sensitive Data"></meta><meta name="prodname" content="HPE Helion"></meta><meta name="version" content="4.1.0"></meta><meta name="copyright" content="HPE Helion 2015" type="primary"></meta><meta name="DC.Rights.Owner" content="HPE Helion 2015" type="primary"></meta><meta name="DC.Format" content="XHTML"></meta><meta name="DC.Identifier" content="password_encryption"></meta><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>HPE Helion OpenStack 2.0: Encryption of Passwords and Sensitive Data</title><!--  Generated with Oxygen version 17.0, build number 2015072912.  --><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../../oxygen-webhelp/resources/skins/skin.css"><!----></link><script type="text/javascript"><!--
          
          var prefix = "../../index.html";
          
          --></script><script type="text/javascript" src="../../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script type="text/javascript" src="../../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script type="text/javascript" src="../../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script type="text/javascript" src="../../oxygen-webhelp/resources/js/jquery.highlight-3.js"><!----></script><script type="text/javascript" charset="utf-8" src="../../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" class="frmBody" id="password_encryption">
<table class="nav"><tbody><tr><td colspan="2"><div id="printlink"><a href="javascript:window.print();" title="Print this page"></a></div><div id="permalink"><a href="#" title="Link to this page"></a></div></td></tr><tr><td width="75%"></td><td><div class="navheader"></div></td></tr></tbody></table>

  <h1 class="title topictitle1">HPE Helion OpenStack<sup>Â®</sup> 2.0: Encryption of Passwords and Sensitive Data</h1>

  <div class="body">
    <div class="p"> In HPE Helion OpenStack 2.0, sensitive connection data is encrypted. The passwords that are
      encrypted include: <ul class="ul">
        <li class="li">Inter-service passwords generated by the Configuration Processor (Keystone, MySQL,
          RabbitMQ and Vertica passwords) </li>

        <li class="li">Secret keys generated by the Configuration Processor (MySQL cluster-id, erlang cookie
          for RabbitMQ, Horizon secret key, Keystone admin token) </li>

        <li class="li">User-supplied passwords (iLO passwords, Block Storage backend passwords) </li>

      </ul>

    </div>

    
    <div class="section">
      
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="password_encryption__table_b5t_qwp_rt" class="table" frame="border" border="1" rules="all">
          
          
          
          
          <thead class="thead" align="left">
            <tr class="row">
              <th class="entry" valign="top" width="25%" id="d113552e67">What is encrypted</th>

              <th class="entry" valign="top" width="25%" id="d113552e70">Encryption mechanism</th>

              <th class="entry" valign="top" width="25%" id="d113552e73">Is password changable</th>

              <th class="entry" valign="top" width="25%" id="d113552e76">Is encryption key changable</th>

            </tr>

          </thead>

          <tbody class="tbody">
            <tr class="row">
              <td class="entry" valign="top" width="25%" headers="d113552e67 ">Inter-service passwords and secret keys generated by the configuration
                processor (Keystone, MySQL, RabbitMQ and Vertica passwords) </td>

              <td class="entry" valign="top" width="25%" headers="d113552e70 ">Uses PyCrypto libraries &amp; Ansible vault for encryption</td>

              <td class="entry" valign="top" width="25%" headers="d113552e73 ">No</td>

              <td class="entry" valign="top" width="25%" headers="d113552e76 "><p class="p">Yes</p>
<p class="p">Passphrase for the encryption key will be prompted when running
                  Ansible playbook. Can also use command </p>
 ask-ansible-pass</td>

            </tr>

            <tr class="row">
              <td class="entry" valign="top" width="25%" headers="d113552e67 ">User supplied passwords (iLO passwords, Block Storage backend passwords) </td>

              <td class="entry" valign="top" width="25%" headers="d113552e70 "> OpenSSL</td>

              <td class="entry" valign="top" width="25%" headers="d113552e73 ">Yes</td>

              <td class="entry" valign="top" width="25%" headers="d113552e76 ">
                <p class="p">Yes</p>

                <p class="p">The environment variable HOS_USER_PASSWORD_ENCRYPT_KEY must contain the key used
                  to encrypt those passwords.</p>

              </td>

            </tr>

          </tbody>

        </table>
</div>
 Other protected data: <ul class="ul">
        <li class="li">The SSH private key used by Ansible to connect to client nodes from the deployer is
          protected with a passphrase. </li>

        <li class="li">The Swift swift-hash prefix and suffix values are
          encrypted. </li>

        <li class="li">All of the Ansible variables generated by the configuration processor are encrypted and
          held in Ansible Vault. </li>

      </ul>

      <p class="p">However, if a user wants to change the encryption keys then that can be done for all
        categories of password and secret-keys listed below, and the processes are documented.</p>

      <p class="p">The ssh private key passphrase needs to be entered once before any Ansible plays are run
        against the cloud.</p>
<p class="p">The configuration processor encryption key will be prompted for
        when the relevant Ansible play is run. Once the configuration processor output has been
        encrypted, all subsequent Ansible plays need to have --ask-ansible-pass added to the command
        line to ensure that the encryption key which is needed by Ansible is prompted for. </p>

      <p class="p">Finally, if user-supplied passwords have been encrypted (this process uses the OpenSSL
        library) then the environment variable HOS_USER_PASSWORD_ENCRYPT_KEY must contain the key
        used to encrypt those passwords.</p>
<p class="p">In the case where the HOS_USER_PASSWORD_ENCRYPT_KEY
        environment variable is either null, the empty string, or not defined, then no encryption
        will be performed on your passwords when using the hosencrypt.py script.</p>

      <p class="p"> The generated passwords are stored in Ansible inputs generated by the configuration
        processor and also in the persistent state information maintained by the configuration
        processor.</p>

    </div>

       <div class="section" id="password_encryption__protection"><h2 class="title sectiontitle">Protecting Sensitive Data on the Deployer</h2>
         <p class="p"> There are a number of mechanisms that can be used to protect sensitive data such as
        passwords, some Ansible inputs, and the SSH key used by Ansible on the deployer. See the
        installation documents for details. Please remember the need to guard against exposure of
        your environment variables, which may happen through observation over the shoulder.</p>

      <p class="p">There are instructions included in the installation documents that show how to encrypt your
        data using the <samp class="ph codeph">hosencrypt.py</samp> script. You may want to change the encryption
        keys used to protect your sensitive data in the future and this shows you how:</p>

      <ul class="ul">
        <li class="li"><strong class="ph b">SSH keys</strong> - Run the command below to change the passphrase used to protect the
          key: <pre class="pre codeblock">ssh-keygen -f id_rsa -p</pre>
</li>

        <li class="li"><strong class="ph b">Configuration Processor Key</strong> - If you wish to change an encryption password that
          you have already used when running the Configuration Processor then enter the existing
          password at the first prompt and the new password at the second prompt when running the
          Configuration Processor playbook. See <a class="xref" href="../installation/install_entryscale_kvm.html#install_kvm__encrypt">Encrypting
            Password during Configuration Processor</a> for more details.</li>

        <li class="li"><strong class="ph b">iLO passwords, VSA password if encrypted with <samp class="ph codeph">hosencrypt.py</samp></strong> -
          Rerun the utility specifying a new encryption key when prompted. You will need to enter
          the plain text passwords at the password prompt.</li>

      </ul>

    </div>

   
    
  </div>

<div class="navfooter"><!----></div><div class="footer">WebHelp output generated by<a class="oxyFooter" href="http://www.oxygenxml.com" target="_blank"><span class="oXygenLogo"><img src="../../oxygen-webhelp/resources/img/LogoOxygen100x22.png" alt="Oxygen"></img></span><span class="xmlauthor">XML Author</span></a></div>
</body>
</html>